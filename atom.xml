<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>一抹阳光 - qirenji.info</title>
  <subtitle>IT技术分享</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.qirenji.info/"/>
  <updated>2017-08-25T07:07:11.000Z</updated>
  <id>http://www.qirenji.info/</id>
  
  <author>
    <name>Qi Renji</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>数组去重的方法</title>
    <link href="http://www.qirenji.info/2017/08/25/%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>http://www.qirenji.info/2017/08/25/数组去重的方法/</id>
    <published>2017-08-25T07:03:25.000Z</published>
    <updated>2017-08-25T07:07:11.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="网上常见的几种方法"><a href="#网上常见的几种方法" class="headerlink" title="网上常见的几种方法"></a>网上常见的几种方法</h1><h2 id="常规比较法"><a href="#常规比较法" class="headerlink" title="常规比较法"></a>常规比较法</h2><p>思路：定义一个新数组，并存放原数组的第一个元素，然后将元素组一一和新数组的元素对比，若不同则存放在新数组中。</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">function <span class="built_in">unique</span>(arr)&#123;</div><div class="line">　　<span class="built_in">var</span> res = [arr[<span class="number">0</span>]];</div><div class="line">　　<span class="keyword">for</span>(<span class="built_in">var</span> i=<span class="number">1</span>;i&lt;arr.<span class="built_in">length</span>;i++)&#123;</div><div class="line">　　　　<span class="built_in">var</span> repeat = <span class="literal">false</span>;</div><div class="line">　　　　<span class="keyword">for</span>(<span class="built_in">var</span> j=<span class="number">0</span>;j&lt;res.<span class="built_in">length</span>;j++)&#123;</div><div class="line">　　　　　　<span class="keyword">if</span>(arr[i] == res[j])&#123;</div><div class="line">　　　　　　　　repeat = <span class="literal">true</span>;</div><div class="line">　　　　　　　　<span class="built_in">break</span>;</div><div class="line">　　　　　　&#125;</div><div class="line">　　　　&#125;</div><div class="line">　　　　<span class="keyword">if</span>(!repeat)&#123;</div><div class="line">　　　　　　res.<span class="built_in">push</span>(arr[i]);</div><div class="line">　　　　&#125;</div><div class="line">　　&#125;</div><div class="line">　　<span class="built_in">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="先排序在去重"><a href="#先排序在去重" class="headerlink" title="先排序在去重"></a>先排序在去重</h2><p>思路：先将原数组排序，在与相邻的进行比较，如果不同则存入新数组<br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique2</span></span>(arr)&#123;</div><div class="line">     arr.sort();</div><div class="line">     <span class="keyword">var</span> <span class="keyword">new</span><span class="type">Arr</span> = [arr[<span class="number">0</span>]];</div><div class="line">     <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>, len=arr.length; i&lt;len; i++)&#123;</div><div class="line">         <span class="keyword">if</span>(arr[i] !== <span class="keyword">new</span><span class="type">Arr</span>[<span class="keyword">new</span><span class="type">Arr</span>.length<span class="number">-1</span>])&#123;</div><div class="line">             <span class="keyword">new</span><span class="type">Arr</span>.push(arr[i]);</div><div class="line">            &#125;</div><div class="line">     &#125;</div><div class="line">     <span class="keyword">return</span> <span class="keyword">new</span><span class="type">Arr</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="数组下标去重"><a href="#数组下标去重" class="headerlink" title="数组下标去重"></a>数组下标去重</h2><figure class="highlight haxe"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique1</span></span>(arr)&#123;</div><div class="line">    <span class="keyword">var</span> <span class="keyword">new</span><span class="type">Arr</span> = [];<span class="comment">//新建一个数组</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,len=arr.length;i&lt;len;i++)&#123;</div><div class="line">        <span class="keyword">if</span>(<span class="keyword">new</span><span class="type">Arr</span>.indexOf(arr[i]) == <span class="number">-1</span>)&#123;<span class="comment">//若新数组中未包含该项则将其存入新数组</span></div><div class="line">         <span class="keyword">new</span><span class="type">Arr</span>.push(arr[i]);</div><div class="line">     &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span><span class="type">Arr</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="利用对象的属性去重"><a href="#利用对象的属性去重" class="headerlink" title="利用对象的属性去重"></a>利用对象的属性去重</h2><p>思路：每次取出原数组的元素，然后再对象中访问这个属性，如果存在就说明重复<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span><span class="params">(arr)</span></span>&#123;</div><div class="line">　　<span class="keyword">var</span> res =[];</div><div class="line">　　<span class="keyword">var</span> json = &#123;&#125;;</div><div class="line">　　<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</div><div class="line">　　　　<span class="keyword">if</span>(!json[arr[i]])&#123;</div><div class="line">　　　　　　res.push(arr[i]);</div><div class="line">　　　　　　json[arr[i]] = <span class="number">1</span>;</div><div class="line">　　　　&#125;</div><div class="line">　　&#125;</div><div class="line">　　<span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>利用对象的属性去重比较常用，兼容性也比较好。</p>
<h1 id="ES6新方法"><a href="#ES6新方法" class="headerlink" title="ES6新方法"></a>ES6新方法</h1><p>ES6新增了Set对象，也就是我们所说的“集合”，它类似于数组，但是成员的值都是唯一的，没有重复的值。所以可以方便去重。</p>
<p>如果用ES6为 Array 对象添加一个去除重复项的方法，则可以如下实现：</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Array</span>.prototype.uniq = <span class="function"><span class="keyword">function</span></span>() &#123;</div><div class="line">  <span class="keyword">return</span> [...<span class="keyword">new</span> <span class="type">Set</span>(<span class="built_in">this</span>)];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>去重关键代码只需要一行，是不是非常简单？😄</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;网上常见的几种方法&quot;&gt;&lt;a href=&quot;#网上常见的几种方法&quot; class=&quot;headerlink&quot; title=&quot;网上常见的几种方法&quot;&gt;&lt;/a&gt;网上常见的几种方法&lt;/h1&gt;&lt;h2 id=&quot;常规比较法&quot;&gt;&lt;a href=&quot;#常规比较法&quot; class=&quot;header
    
    </summary>
    
      <category term="JavaScript" scheme="http://www.qirenji.info/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://www.qirenji.info/tags/JavaScript/"/>
    
      <category term="ES6" scheme="http://www.qirenji.info/tags/ES6/"/>
    
  </entry>
  
  <entry>
    <title>Node.js + mongoDB + glup 搭建的电影网站</title>
    <link href="http://www.qirenji.info/2017/08/12/Node-js-mongoDB-glup-%E6%90%AD%E5%BB%BA%E7%9A%84%E7%94%B5%E5%BD%B1%E7%BD%91%E7%AB%99/"/>
    <id>http://www.qirenji.info/2017/08/12/Node-js-mongoDB-glup-搭建的电影网站/</id>
    <published>2017-08-12T07:43:27.000Z</published>
    <updated>2017-08-28T07:48:20.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Node-js-mongoDB-glup-搭建的电影网站"><a href="#Node-js-mongoDB-glup-搭建的电影网站" class="headerlink" title="Node.js + mongoDB + glup 搭建的电影网站"></a>Node.js + mongoDB + glup 搭建的电影网站</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>此项目是基于 Node.js + Express + mongoDB + Bootstrap + gulp 搭建的电影网站。</p>
<p>github地址：<a href="https://github.com/qirenji/movie" target="_blank" rel="external">https://github.com/qirenji/movie</a></p>
<h2 id="实现功能"><a href="#实现功能" class="headerlink" title="实现功能"></a>实现功能</h2><ul>
<li>[x] 前台电影展示页</li>
<li>[x] 电影详情页</li>
<li>[x] 后台电影管理中心（电影录入、电影修改）</li>
<li>[x] 用户登录注册注销功能</li>
<li>[x] 后台用户管理中心（用户录入、用户修改）</li>
<li>[x] 电影评论</li>
<li>[x] 电影分类管理（分类录入、修改）<h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2>在线预览地址 👉 <a href="http://60.205.181.124:18002/" target="_blank" rel="external">http://60.205.181.124:18002/</a></li>
</ul>
<p>电影首页</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/movie-node/index.png" alt="电影首页" title="">
                </div>
                <div class="image-caption">电影首页</div>
            </figure>
<p>登录页</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/movie-node/login.png" alt="登录页" title="">
                </div>
                <div class="image-caption">登录页</div>
            </figure>
<p>电影录入页</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/movie-node/admin.png" alt="电影录入页" title="">
                </div>
                <div class="image-caption">电影录入页</div>
            </figure>
<p>电影列表页</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/movie-node/movielist.png" alt="电影列表页" title="">
                </div>
                <div class="image-caption">电影列表页</div>
            </figure>
<p>电影分类页</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/movie-node/category.png" alt="电影分类页" title="">
                </div>
                <div class="image-caption">电影分类页</div>
            </figure>
<h2 id="技术栈"><a href="#技术栈" class="headerlink" title="技术栈"></a>技术栈</h2><p>【前端】</p>
<ul>
<li>HTML/CSS/JS：亘古不变三件套</li>
<li>ES6：ECMAScript 新一代语法，这也是以后的趋势</li>
<li>Monment.js：时间日期格式化插件</li>
<li>jQuery：主要用到 jQuery 的 ajax 方法处理异步请求和 DOM 操作</li>
<li>Bootstrap：页面 UI 框架，天然响应式</li>
<li>用SCSS做CSS预处理语言。</li>
</ul>
<p>【后端】</p>
<ul>
<li>pug：pug (以前的 jade) 是一个高性能的模板引擎，用来生成 HTML</li>
<li>Node.js：整个后端由 Node.js 驱动；用 npm 安装资源文件</li>
<li>Express：一个基于 Node.js 平台的 web 开发框架，由路由和中间件构成</li>
</ul>
<p>【数据库】</p>
<ul>
<li>mongoDB：进行数据存储的 NoSQL 数据库</li>
</ul>
<p>【自动化构建】</p>
<ul>
<li>gulp：前端自动化构建工具</li>
</ul>
<p>【部署工具】</p>
<ul>
<li>pm2:  Node 应用的进程管理器。</li>
</ul>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">|<span class="string">-- movie-node                       // 项目根目录</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- app                          // 后台相关目录</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- controllers              // 控制层</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- models                   // 数据模型</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- schemas                  // 模型结构</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- views                    // 视图层</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- config                       // 路由管理</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- movie-backup                 // 数据库备份</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- public                       // 公用资源</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- dist                     // 公共资源打包目录</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- images                   // 公用图片</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- sass                     // 公用样式（初始化等）</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- scripts                  // 脚本交互文件</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- App.js                       // 程序入口文件</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- ecosystem.json               // pm2配置文件</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- gulpfile.js                  // gulp配置文件</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- package.json                 // 项目配置信息</span></div></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>熟悉了 pug 的语法及其在 Node.js 中的使用方法</li>
<li>初步掌握了 express 框架的使用，如何处理路由以及中间件</li>
<li>掌握了 mongoose 在 Node.js 中如何连接数据库，以及 schema、model 的使用</li>
<li>前后端数据传递与视图展现的流程</li>
<li>学会了使用 bcryptjs（Node.js 的一个加解密模块）对密码进行 “hash + salt” 处理</li>
<li>借助会话与 cookie 进行用户识别和持久化</li>
</ol>
<h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><p>关于我: <a href="http://www.qirenji.info/about">http://www.qirenji.info/about</a></p>
<p>GitHub: <a href="https://github.com/qirenji/" target="_blank" rel="external">https://github.com/qirenji/</a></p>
<p>E-mail: lyf@qirenji.com</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Node-js-mongoDB-glup-搭建的电影网站&quot;&gt;&lt;a href=&quot;#Node-js-mongoDB-glup-搭建的电影网站&quot; class=&quot;headerlink&quot; title=&quot;Node.js + mongoDB + glup 搭建的电影网站&quot;&gt;&lt;/
    
    </summary>
    
      <category term="Node" scheme="http://www.qirenji.info/categories/Node/"/>
    
      <category term="实战项目" scheme="http://www.qirenji.info/categories/Node/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/"/>
    
    
      <category term="Node" scheme="http://www.qirenji.info/tags/Node/"/>
    
      <category term="mongodb" scheme="http://www.qirenji.info/tags/mongodb/"/>
    
      <category term="电影网站" scheme="http://www.qirenji.info/tags/%E7%94%B5%E5%BD%B1%E7%BD%91%E7%AB%99/"/>
    
  </entry>
  
  <entry>
    <title>Vue.js打造的音乐播放器</title>
    <link href="http://www.qirenji.info/2017/08/10/Vue-js%E6%89%93%E9%80%A0%E7%9A%84%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/"/>
    <id>http://www.qirenji.info/2017/08/10/Vue-js打造的音乐播放器/</id>
    <published>2017-08-10T04:17:34.000Z</published>
    <updated>2017-08-28T04:28:16.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Vue-js打造的音乐播放器"><a href="#Vue-js打造的音乐播放器" class="headerlink" title="Vue.js打造的音乐播放器"></a>Vue.js打造的音乐播放器</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>vue学习项目，基于qq音乐API，完成音乐播放和搜索等。</p>
<p>Github地址：<a href="https://github.com/qirenji/music-vue" target="_blank" rel="external">https://github.com/qirenji/music-vue</a></p>
<h2 id="实现功能"><a href="#实现功能" class="headerlink" title="实现功能"></a>实现功能</h2><ul>
<li>[x] 音乐播放</li>
<li>[x] 音乐控制和自动循环播放</li>
<li>[x] 音乐搜索</li>
<li>[x] 播放详情页</li>
<li>[x] 音乐进度拖拽</li>
<li>[x] 个人中心模版</li>
</ul>
<h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p>在线预览地址 👉 <a href="http://60.205.181.124:18003/" target="_blank" rel="external">http://60.205.181.124:18003/</a></p>
<h2 id="技术栈"><a href="#技术栈" class="headerlink" title="技术栈"></a>技术栈</h2><ul>
<li><strong>Vue2.0</strong>：前端页面展示。</li>
<li><strong>Vue-cli</strong>：vue手脚架工具。</li>
<li><strong>vue-router</strong>：页面路由切换。</li>
<li><strong>axios</strong>：向后端发起请求。</li>
<li><strong>Vuex</strong>：实现不同组件间的状态共享。</li>
<li><strong>ES6</strong>：箭头函数等语法很好用。</li>
<li><strong>localStorage</strong>：本地存储，保存歌单和个性化设置。</li>
<li><strong>Express</strong>：后端调用qq音乐API，返回数据。</li>
<li><strong>Webpack</strong>：vue-cli自带Webpack，添加sass相关loader，其他vue-cli已经配置好了webpack，你只需要安装依赖就可以，使用的时候只需要<style lang="scss"></style>。</li>
<li><strong>SASS(SCSS)</strong>：用SCSS做CSS预处理语言。</li>
<li><strong>flex</strong>：flex弹性布局，简单适配手机、PC端。</li>
<li><strong>CSS3</strong>：CSS3过渡动画及样式。</li>
</ul>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p>项目使用vue-cli手脚架工具搭建，大部分源文件放在src目录下，所有这里只列出src目录结构，其他请参考<a href="https://segmentfault.com/a/1190000007880723" target="_blank" rel="external">vue-cli手脚架</a>工具<br><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">|<span class="string">-- src                              // 源码目录</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- components                   // 公共组件</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- about                    // 关于页</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- find                     // 搜索页</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- footer                   // mini播放器</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- header                   // 页面头部</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- musiclist                // 歌曲列表页</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- play                     // 播放详情页</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- social                   // 个人中心页</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- common                       // 公用资源</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- style                    // 公用sass样式（默认样式）</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- router                       // 配置页面路由</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- App.vue                      // 页面入口文件</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- main.js                      // 程序入口文件，加载各种公共组件</span></div></pre></td></tr></table></figure></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>深入学习vue.js全家桶，使用Vuex管理组件状态很方便。</li>
<li>事先要先想好整个页面结构和组件划分，方便快速开发。</li>
</ol>
<h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><p>关于我: <a href="http://www.qirenji.info/about">http://www.qirenji.info/about</a></p>
<p>GitHub: <a href="https://github.com/qirenji/" target="_blank" rel="external">https://github.com/qirenji/</a></p>
<p>E-mail: lyf@qirenji.com</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Vue-js打造的音乐播放器&quot;&gt;&lt;a href=&quot;#Vue-js打造的音乐播放器&quot; class=&quot;headerlink&quot; title=&quot;Vue.js打造的音乐播放器&quot;&gt;&lt;/a&gt;Vue.js打造的音乐播放器&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot;
    
    </summary>
    
      <category term="Vue" scheme="http://www.qirenji.info/categories/Vue/"/>
    
      <category term="实战项目" scheme="http://www.qirenji.info/categories/Vue/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/"/>
    
    
      <category term="Vue" scheme="http://www.qirenji.info/tags/Vue/"/>
    
      <category term="Vue音乐播放器" scheme="http://www.qirenji.info/tags/Vue%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>城市选择器插件（三级联动）</title>
    <link href="http://www.qirenji.info/2017/08/08/%E5%9F%8E%E5%B8%82%E9%80%89%E6%8B%A9%E5%99%A8%E6%8F%92%E4%BB%B6%EF%BC%88%E4%B8%89%E7%BA%A7%E8%81%94%E5%8A%A8%EF%BC%89/"/>
    <id>http://www.qirenji.info/2017/08/08/城市选择器插件（三级联动）/</id>
    <published>2017-08-08T14:49:20.000Z</published>
    <updated>2017-08-28T08:58:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="城市选择器-三级联动"><a href="#城市选择器-三级联动" class="headerlink" title="城市选择器(三级联动)"></a>城市选择器(三级联动)</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>一个中国地区的三级联动数据，也可以自定义数据。</p>
<p>github地址: <a href="https://github.com/qirenji/select-plugin" target="_blank" rel="external">https://github.com/qirenji/select-plugin</a></p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="默认数据"><a href="#默认数据" class="headerlink" title="默认数据"></a>默认数据</h3><p>引入js文件。</p>
<p>在html文件中插入</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// html中添加</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"dist/all.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"></div><div class="line">    <span class="keyword">let</span> selector = <span class="keyword">new</span> Select(<span class="string">'.container'</span>,default_data);</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>默认就可以生成中国地区的三级联动数据啦</p>
<h3 id="自定义数据"><a href="#自定义数据" class="headerlink" title="自定义数据"></a>自定义数据</h3><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">//html中添加</div><div class="line">&lt;div class=<span class="string">"container1"</span>&gt;&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;script src=<span class="string">"dist/all.js"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    const text = [<span class="string">'选项1'</span>,<span class="string">'选项二'</span>,<span class="string">'选项三'</span>]</div><div class="line">		//自定义数据</div><div class="line">    const data = &#123;</div><div class="line">       <span class="string">'province'</span>: [<span class="string">'a1'</span>, <span class="string">'a2'</span>, <span class="string">'a3'</span>],</div><div class="line">        <span class="string">'city'</span>: [</div><div class="line">                  [<span class="string">'a11'</span>, <span class="string">'a12'</span>, <span class="string">'a13'</span>],</div><div class="line">                  [<span class="string">'a21'</span>, <span class="string">'a22'</span>],</div><div class="line">                  [<span class="string">'a31'</span>, <span class="string">'a32'</span>]</div><div class="line">                ],</div><div class="line">        <span class="string">'county'</span>:  [</div><div class="line">                  [[<span class="string">'a111'</span>, <span class="string">'a112'</span>], [<span class="string">'a121'</span>, <span class="string">'a122'</span>], [<span class="string">'a131'</span>, <span class="string">'a132'</span>]],</div><div class="line">                  [[<span class="string">'a211'</span>, <span class="string">'a212'</span>], [<span class="string">'a221'</span>, <span class="string">'a222'</span>]],</div><div class="line">                  [[<span class="string">'a311'</span>], [<span class="string">'a312'</span>]]</div><div class="line">                ]</div><div class="line">              &#125;;</div><div class="line">	let selector1 = new <span class="symbol">Select</span>(<span class="string">'.container1'</span>,data, text)</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<ul>
<li>第一个参数是插件所在的父容器</li>
<li>第二个参数是插件所要选择的数据（json形式）</li>
<li>第三个参数是选择器前面的提示词语</li>
</ul>
<h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/select-plugin/city.png" alt="城市选择器插件" title="">
                </div>
                <div class="image-caption">城市选择器插件</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/select-plugin/custom.png" alt="自定义数据选择" title="">
                </div>
                <div class="image-caption">自定义数据选择</div>
            </figure>
<h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><p>关于我: <a href="http://www.qirenji.info/about">http://www.qirenji.info/about</a></p>
<p>GitHub: <a href="https://github.com/qirenji/" target="_blank" rel="external">https://github.com/qirenji/</a></p>
<p>E-mail: lyf@qirenji.com</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;城市选择器-三级联动&quot;&gt;&lt;a href=&quot;#城市选择器-三级联动&quot; class=&quot;headerlink&quot; title=&quot;城市选择器(三级联动)&quot;&gt;&lt;/a&gt;城市选择器(三级联动)&lt;/h1&gt;&lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;header
    
    </summary>
    
      <category term="JavaScript" scheme="http://www.qirenji.info/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://www.qirenji.info/tags/JavaScript/"/>
    
      <category term="组件" scheme="http://www.qirenji.info/tags/%E7%BB%84%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>gulp执行顺序(gulp-sequence)</title>
    <link href="http://www.qirenji.info/2017/08/02/gulp%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F-gulp-sequence/"/>
    <id>http://www.qirenji.info/2017/08/02/gulp执行顺序-gulp-sequence/</id>
    <published>2017-08-02T02:40:23.000Z</published>
    <updated>2017-08-25T02:43:04.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>Node.js 工具链中的典型任务运行器有 Grunt ，以及后起之秀 Gulp。 </p>
<p>与以传统的方式进行配置的 Grunt 相比， Gulp 则使用“代码”的方式来描述任务。而它们另一个巨大的不同，则体现在运行方式上：Grunt 的运行方式很直观：解析依赖，使用配置逐步运行已定义的任务；而 Gulp 则默认将所有任务和步骤异步化运行。显而易见，Gulp 在效率上是有明显的提升的。</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>上文介绍gulp是异步的，但是当写完一系列任务准备执行时</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gulp.<span class="keyword">task</span>(<span class="symbol">'build</span>', [<span class="symbol">'clean</span>', <span class="symbol">'styles</span>', <span class="symbol">'images</span>', <span class="symbol">'scripts</span>']));</div></pre></td></tr></table></figure>
<p>发现终端报错</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/gulp-stream.png" alt="image" title="">
                </div>
                <div class="image-caption">image</div>
            </figure>
<p>如上图所示，任务完全错乱了，我们是想先执行clean，然后执行scritp和styles等任务。但由于异步操作，导致了执行出错。</p>
<p>当然如果是一个任务，可以使用依赖</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gulp.<span class="keyword">task</span>(<span class="symbol">'scripts</span>', [<span class="symbol">'clean</span>']));</div></pre></td></tr></table></figure>
<p>这样就可以在执行clean后执行scripts任务了。</p>
<p>但我们有一系列任务，这时候就可以使用国内的 Teambition 团队开源了 gulp-sequence ，以及国外开发者开发的 run-sequence来完美解决这个问题。</p>
<h1 id="gulp-sequence"><a href="#gulp-sequence" class="headerlink" title="gulp-sequence"></a>gulp-sequence</h1><p>它们提供了类似的调用方式，下面的代码演示如何使用 gulp-sequence 按顺序地运行多个或多组 Gulp 任务：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulpSequence = <span class="built_in">require</span>(<span class="string">'gulp-sequence'</span>); </div><div class="line"></div><div class="line">gulp.task(<span class="string">'build'</span>, gulpSequence(<span class="string">'clean'</span>, [<span class="string">'styles'</span>, <span class="string">'images'</span>, <span class="string">'scripts'</span>]));</div></pre></td></tr></table></figure>
<p>这样就可以预期的先执行clean再之行其他任务了。</p>
<p>具体终端执行结果如下图</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/gulp-stream-ok.png" alt="image" title="">
                </div>
                <div class="image-caption">image</div>
            </figure>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h1&gt;&lt;p&gt;Node.js 工具链中的典型任务运行器有 Grunt ，以及后起之秀 Gulp。 &lt;/p&gt;
&lt;p&gt;与以传统的方式进行配置的 Grunt 相
    
    </summary>
    
      <category term="工具" scheme="http://www.qirenji.info/categories/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="gulp" scheme="http://www.qirenji.info/categories/%E5%B7%A5%E5%85%B7/gulp/"/>
    
    
      <category term="gulp" scheme="http://www.qirenji.info/tags/gulp/"/>
    
      <category term="自动化工具" scheme="http://www.qirenji.info/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>Vue.js开源的CNode社区</title>
    <link href="http://www.qirenji.info/2017/08/01/Vue-js%E5%BC%80%E6%BA%90%E7%9A%84CNode%E7%A4%BE%E5%8C%BA/"/>
    <id>http://www.qirenji.info/2017/08/01/Vue-js开源的CNode社区/</id>
    <published>2017-08-01T02:08:02.000Z</published>
    <updated>2017-08-28T02:12:18.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Vue-js开源的CNode社区"><a href="#Vue-js开源的CNode社区" class="headerlink" title="Vue.js开源的CNode社区"></a>Vue.js开源的CNode社区</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>vue练习项目，利用cnode社区提供的api实现，需去cnode个人中心登陆查看accesstoken才可以登录。<br>Github地址：<a href="https://github.com/qirenji/cnode-vue" target="_blank" rel="external">https://github.com/qirenji/cnode-vue</a></p>
<h2 id="实现功能"><a href="#实现功能" class="headerlink" title="实现功能"></a>实现功能</h2><ul>
<li>[x] 首页列表，下拉加载 – 完成</li>
<li>[x] 主题详情，回复，点赞 – 完成</li>
<li>[x] 登录,退出 –完成</li>
<li>[x] 消息列表，消息提醒，消息标记为已读 – 完成</li>
<li>[x] 发布话题 – 完成</li>
<li>[x] 个人中心 – 完成</li>
</ul>
<h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p>在线预览地址 👉 <a href="http://60.205.181.124:18000/" target="_blank" rel="external">http://60.205.181.124:18000/</a></p>
<p>首页</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/cnode-vue/page.png" alt="首页" title="">
                </div>
                <div class="image-caption">首页</div>
            </figure>
<p>文章详情页</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/cnode-vue/pagelist.png" alt="文章详情页" title="">
                </div>
                <div class="image-caption">文章详情页</div>
            </figure>
<p>侧边栏</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/cnode-vue/aside.png" alt="侧边栏" title="">
                </div>
                <div class="image-caption">侧边栏</div>
            </figure>
<p>回复页面</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/cnode-vue/replay.png" alt="回复页面" title="">
                </div>
                <div class="image-caption">回复页面</div>
            </figure>
<p>发布话题页</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/cnode-vue/newartical.png" alt="发布话题页" title="">
                </div>
                <div class="image-caption">发布话题页</div>
            </figure>
<h2 id="技术栈"><a href="#技术栈" class="headerlink" title="技术栈"></a>技术栈</h2><ul>
<li><strong>Vue2.0</strong>：前端页面展示。</li>
<li><strong>Vue-cli</strong>：vue手脚架工具。</li>
<li><strong>Vuex</strong>：实现不同组件间的状态共享。</li>
<li><strong>vue-router</strong>：页面路由切换。</li>
<li><strong>axios</strong>：向后端发起请求。</li>
<li><strong>Socket.io</strong>：实现实时通信</li>
<li><strong>Moment.js</strong>：格式化时间。</li>
<li><strong>ES6</strong>：箭头函数等语法很好用。</li>
<li><strong>localStorage</strong>：保存用户信息。</li>
<li><strong>Webpack</strong>：vue-cli自带Webpack，添加sass相关loader，其他vue-cli已经配置好了webpack，你只需要安装依赖就可以，使用的时候只需要<style lang="scss"></style>。</li>
<li><strong>SASS(SCSS)</strong>：用SCSS做CSS预处理语言。</li>
<li><strong>flex</strong>：flex弹性布局，简单适配手机、PC端。</li>
<li><strong>CSS3</strong>：CSS3过渡动画及样式。</li>
</ul>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p>项目使用vue-cli手脚架工具搭建，大部分源文件放在src目录下，所有这里只列出src目录结构，其他请参考<a href="https://segmentfault.com/a/1190000007880723" target="_blank" rel="external">vue-cli手脚架</a>工具<br><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">|<span class="string">-- src                              // 源码目录</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- components                   // 公共组件</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- about                    // 关于页</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- asidemenu                // 侧边栏页</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- content                  // 文章列表页和文章详情页 </span></div><div class="line">|<span class="string">       </span>|<span class="string">-- header                   // 首页头部</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- info                     // 个人中心页</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- login                    // 登陆页</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- newarticle               // 新建话题页</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- user                     // 用户详情页</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- common                       // 公用资源</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- style                    // 公用sass样式（默认样式）</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- icons                    // 公用svg图标页</span></div><div class="line">|<span class="string">       </span>|<span class="string">-- js                       // 公用javascript</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- router                       // 配置页面路由</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- App.vue                      // 页面入口文件</span></div><div class="line">|<span class="string">   </span>|<span class="string">-- main.js                      // 程序入口文件，加载各种公共组件</span></div></pre></td></tr></table></figure></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>深入学习vue.js全家桶，使用Vuex管理组件状态很方便。</li>
<li>事先要先想好整个页面结构和组件划分，方便快速开发。</li>
</ol>
<h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><p>关于我: <a href="http://www.qirenji.info/about">http://www.qirenji.info/about</a></p>
<p>GitHub: <a href="https://github.com/qirenji/" target="_blank" rel="external">https://github.com/qirenji/</a></p>
<p>E-mail: lyf@qirenji.com</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Vue-js开源的CNode社区&quot;&gt;&lt;a href=&quot;#Vue-js开源的CNode社区&quot; class=&quot;headerlink&quot; title=&quot;Vue.js开源的CNode社区&quot;&gt;&lt;/a&gt;Vue.js开源的CNode社区&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a hr
    
    </summary>
    
      <category term="Vue" scheme="http://www.qirenji.info/categories/Vue/"/>
    
      <category term="实战项目" scheme="http://www.qirenji.info/categories/Vue/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/"/>
    
    
      <category term="Vue" scheme="http://www.qirenji.info/tags/Vue/"/>
    
      <category term="CNode社区" scheme="http://www.qirenji.info/tags/CNode%E7%A4%BE%E5%8C%BA/"/>
    
  </entry>
  
  <entry>
    <title>gulp学习</title>
    <link href="http://www.qirenji.info/2017/07/31/gulp%E5%AD%A6%E4%B9%A0/"/>
    <id>http://www.qirenji.info/2017/07/31/gulp学习/</id>
    <published>2017-07-31T15:31:43.000Z</published>
    <updated>2017-08-09T02:38:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="glup学习"><a href="#glup学习" class="headerlink" title="glup学习"></a>glup学习</h1><p>gulpjs是一个前端构建工具，与gruntjs相比，gulpjs无需写一大堆繁杂的配置参数，API也非常简单，学习起来很容易，而且gulpjs使用的是nodejs中stream来读取和操作数据，其速度更快。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>在项目根目录执行</p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">//全局安装</span></div><div class="line">npm install -g gulp</div><div class="line"> <span class="comment">//项目使用</span></div><div class="line">npm install --<span class="built_in">save</span>-<span class="built_in">dev</span> gulp</div></pre></td></tr></table></figure>
<h2 id="创建gulpfile-js"><a href="#创建gulpfile-js" class="headerlink" title="创建gulpfile.js"></a>创建gulpfile.js</h2><p>就像gruntjs需要一个Gruntfile.js文件一样，gulp也需要一个文件作为它的主文件，在gulp中这个文件叫做gulpfile.js</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">此时我们的目录结构是这样子的：</div><div class="line"></div><div class="line">├── <span class="selector-tag">gulpfile</span><span class="selector-class">.js</span></div><div class="line">├── <span class="selector-tag">node_modules</span></div><div class="line">│ └── <span class="selector-tag">gulp</span></div><div class="line">└── <span class="selector-tag">package</span><span class="selector-class">.json</span></div></pre></td></tr></table></figure>
<p>添加的gulpfile.js内容大概是这样的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//导入工具包 require('node_modules里对应模块')</span></div><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>), <span class="comment">//本地安装gulp所用到的地方</span></div><div class="line">    less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>);</div><div class="line"> </div><div class="line"><span class="comment">//定义一个testLess任务（自定义任务名称）</span></div><div class="line">gulp.task(<span class="string">'testLess'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'src/less/index.less'</span>) <span class="comment">//该任务针对的文件</span></div><div class="line">        .pipe(less()) <span class="comment">//该任务调用的模块</span></div><div class="line">        .pipe(gulp.dest(<span class="string">'src/css'</span>)); <span class="comment">//将会在src/css下生成index.css</span></div><div class="line">&#125;);</div><div class="line"> </div><div class="line">gulp.task(<span class="string">'default'</span>,[<span class="string">'testLess'</span>, <span class="string">'elseTask'</span>]); <span class="comment">//定义默认任务 elseTask为其他任务，该示例没有定义elseTask任务</span></div><div class="line"> </div><div class="line"><span class="comment">//gulp.task(name[, deps], fn) 定义任务  name：任务名称 deps：依赖任务名称 fn：回调函数</span></div><div class="line"><span class="comment">//gulp.src(globs[, options]) 执行任务处理的文件  globs：处理的文件路径(字符串或者字符串数组) </span></div><div class="line"><span class="comment">//gulp.dest(path[, options]) 处理完后文件生成路径</span></div><div class="line"><span class="comment">//gulp.watch(glob [, opts], tasks) 监视文件，并且可以在文件发生改动时候做一些事情。</span></div></pre></td></tr></table></figure>
<p>运行glup</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">gulp</span> task1</div></pre></td></tr></table></figure>
<h2 id="常用插件"><a href="#常用插件" class="headerlink" title="常用插件"></a>常用插件</h2><h3 id="自动加载插件"><a href="#自动加载插件" class="headerlink" title="自动加载插件"></a>自动加载插件</h3><p>gulp-load-plugins这个插件能自动帮你加载package.json文件里的gulp插件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</div><div class="line"><span class="comment">//加载gulp-load-plugins插件，并马上运行它</span></div><div class="line"><span class="keyword">var</span> plugins = <span class="built_in">require</span>(<span class="string">'gulp-load-plugins'</span>)();</div></pre></td></tr></table></figure>
<p>注意必须要保证你需要自动加载的插件已经写入到了package.json文件里</p>
<h3 id="重命名"><a href="#重命名" class="headerlink" title="重命名"></a>重命名</h3><p>gulp-rename</p>
<p>用来重命名文件流中的文件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</div><div class="line">    rename = <span class="built_in">require</span>(<span class="string">'gulp-rename'</span>),</div><div class="line">    uglify = <span class="built_in">require</span>(<span class="string">"gulp-uglify"</span>);</div><div class="line"> </div><div class="line">gulp.task(<span class="string">'rename'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'js/jquery.js'</span>)</div><div class="line">    .pipe(uglify())  <span class="comment">//压缩</span></div><div class="line">    .pipe(rename(<span class="string">'jquery.min.js'</span>)) <span class="comment">//会将jquery.js重命名为jquery.min.js</span></div><div class="line">    .pipe(gulp.dest(<span class="string">'js'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="ES6文件转换"><a href="#ES6文件转换" class="headerlink" title="ES6文件转换"></a>ES6文件转换</h3><p>gulp-babel</p>
<p>用来转换ES6或ES7</p>
<p>需要安装babel-preset-es2015插件，才能把es6编译成es5<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">"gulp"</span>);</div><div class="line"><span class="keyword">var</span> babel = <span class="built_in">require</span>(<span class="string">"gulp-babel"</span>);</div><div class="line"></div><div class="line">gulp.task(<span class="string">"default"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> gulp.src(<span class="string">"src/app.js"</span>)</div><div class="line">        .pipe(babel(&#123;</div><div class="line">            <span class="attr">presets</span>: [<span class="string">'es2015'</span>]</div><div class="line">        &#125;))</div><div class="line">        .pipe(gulp.dest(<span class="string">"dist"</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="js文件压缩"><a href="#js文件压缩" class="headerlink" title="js文件压缩"></a>js文件压缩</h3><p>gulp-uglify</p>
<p>用来压缩js文件，使用的是uglify引擎</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</div><div class="line">    uglify = <span class="built_in">require</span>(<span class="string">"gulp-uglify"</span>);</div><div class="line"> </div><div class="line">gulp.task(<span class="string">'minify-js'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'js/*.js'</span>) <span class="comment">// 要压缩的js文件</span></div><div class="line">    .pipe(uglify())  <span class="comment">//使用uglify进行压缩,更多配置请参考：</span></div><div class="line">    .pipe(gulp.dest(<span class="string">'dist/js'</span>)); <span class="comment">//压缩后的路径</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="css文件压缩"><a href="#css文件压缩" class="headerlink" title="css文件压缩"></a>css文件压缩</h3><p>gulp-minify-css</p>
<p>要压缩css文件时可以使用该插件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</div><div class="line">    minifyCss = <span class="built_in">require</span>(<span class="string">"gulp-minify-css"</span>);</div><div class="line"> </div><div class="line">gulp.task(<span class="string">'minify-css'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'css/*.css'</span>) <span class="comment">// 要压缩的css文件</span></div><div class="line">    .pipe(minifyCss()) <span class="comment">//压缩css</span></div><div class="line">    .pipe(gulp.dest(<span class="string">'dist/css'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="html文件压缩"><a href="#html文件压缩" class="headerlink" title="html文件压缩"></a>html文件压缩</h3><p>gulp-minify-html</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</div><div class="line">    minifyHtml = <span class="built_in">require</span>(<span class="string">"gulp-minify-html"</span>);</div><div class="line"> </div><div class="line">gulp.task(<span class="string">'minify-html'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'html/*.html'</span>) <span class="comment">// 要压缩的html文件</span></div><div class="line">    .pipe(minifyHtml()) <span class="comment">//压缩</span></div><div class="line">    .pipe(gulp.dest(<span class="string">'dist/html'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="js代码检查"><a href="#js代码检查" class="headerlink" title="js代码检查"></a>js代码检查</h3><p>gulp-jshint</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</div><div class="line">    jshint = <span class="built_in">require</span>(<span class="string">"gulp-jshint"</span>);</div><div class="line"> </div><div class="line">gulp.task(<span class="string">'jsLint'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'js/*.js'</span>)</div><div class="line">    .pipe(jshint())</div><div class="line">    .pipe(jshint.reporter()); <span class="comment">// 输出检查结果</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="文件合并"><a href="#文件合并" class="headerlink" title="文件合并"></a>文件合并</h3><p>gulp-concat</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</div><div class="line">    concat = <span class="built_in">require</span>(<span class="string">"gulp-concat"</span>);</div><div class="line"> </div><div class="line">gulp.task(<span class="string">'concat'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'js/*.js'</span>)  <span class="comment">//要合并的文件</span></div><div class="line">    .pipe(concat(<span class="string">'all.js'</span>))  <span class="comment">// 合并匹配到的js文件并命名为 "all.js"</span></div><div class="line">    .pipe(gulp.dest(<span class="string">'dist/js'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="less和sass的编译"><a href="#less和sass的编译" class="headerlink" title="less和sass的编译"></a>less和sass的编译</h3><p>less使用gulp-less</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</div><div class="line">    less = <span class="built_in">require</span>(<span class="string">"gulp-less"</span>);</div><div class="line"> </div><div class="line">gulp.task(<span class="string">'compile-less'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'less/*.less'</span>)</div><div class="line">    .pipe(less())</div><div class="line">    .pipe(gulp.dest(<span class="string">'dist/css'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>sass使用gulp-sass</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</div><div class="line">    sass = <span class="built_in">require</span>(<span class="string">"gulp-sass"</span>);</div><div class="line"> </div><div class="line">gulp.task(<span class="string">'compile-sass'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'sass/*.sass'</span>)</div><div class="line">    .pipe(sass())</div><div class="line">    .pipe(gulp.dest(<span class="string">'dist/css'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="图片压缩"><a href="#图片压缩" class="headerlink" title="图片压缩"></a>图片压缩</h3><p>gulp-imagemin插件来压缩jpg、png、gif等图片</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</div><div class="line"><span class="keyword">var</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);</div><div class="line"><span class="keyword">var</span> pngquant = <span class="built_in">require</span>(<span class="string">'imagemin-pngquant'</span>); <span class="comment">//png图片压缩插件</span></div><div class="line"></div><div class="line">gulp.task(<span class="string">'default'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">     gulp.src(<span class="string">'src/images/*'</span>)</div><div class="line">        .pipe(imagemin(&#123;</div><div class="line">            <span class="attr">progressive</span>: <span class="literal">true</span>,</div><div class="line">            <span class="attr">use</span>: [pngquant()] <span class="comment">//使用pngquant来压缩png图片</span></div><div class="line">        &#125;))</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>gulp-imagemin的使用比较复杂一点，而且它本身也有很多插件，建议去它的<a href="https://github.com/sindresorhus/gulp-imagemin" target="_blank" rel="external">项目主页</a>看看文档。</p>
<h3 id="自动化"><a href="#自动化" class="headerlink" title="自动化"></a>自动化</h3><h4 id="gulp-livereload"><a href="#gulp-livereload" class="headerlink" title="gulp-livereload"></a>gulp-livereload</h4><p>该插件最好配合谷歌浏览器来使用，且要安装livereload chrome extension扩展插件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</div><div class="line">    less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>),</div><div class="line">    livereload = <span class="built_in">require</span>(<span class="string">'gulp-livereload'</span>);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'less'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  gulp.src(<span class="string">'less/*.less'</span>)</div><div class="line">    .pipe(less())</div><div class="line">    .pipe(gulp.dest(<span class="string">'css'</span>))</div><div class="line">    .pipe(livereload());</div><div class="line">&#125;);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'watch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  livereload.listen(); <span class="comment">//要在这里调用listen()方法</span></div><div class="line">  gulp.watch(<span class="string">'less/*.less'</span>, [<span class="string">'less'</span>]);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h4 id="browser-sync"><a href="#browser-sync" class="headerlink" title="browser-sync"></a>browser-sync</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</div><div class="line"><span class="keyword">var</span> browserSync = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>).create();</div><div class="line"> </div><div class="line">gulp.task(<span class="string">'js-watch'</span>, [<span class="string">'js'</span>], browserSync.reload);</div><div class="line"></div><div class="line"><span class="comment">// 使用默认任务启动Browsersync，监听JS文件</span></div><div class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'js'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// 从这个项目的根目录启动服务器</span></div><div class="line">    browserSync.init(&#123;</div><div class="line">        <span class="attr">server</span>: &#123;</div><div class="line">            <span class="attr">baseDir</span>: <span class="string">"./"</span></div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    <span class="comment">// 添加 browserSync.reload 到任务队列里</span></div><div class="line">    <span class="comment">// 所有的浏览器重载后任务完成。</span></div><div class="line">    gulp.watch(<span class="string">"js/*.js"</span>, [<span class="string">'js-watch'</span>]);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</div><div class="line"><span class="keyword">var</span> browsersync = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>).create();</div><div class="line"></div><div class="line"><span class="comment">//删除dist目录下文件</span></div><div class="line"><span class="keyword">var</span> del=<span class="built_in">require</span>(<span class="string">'del'</span>);</div><div class="line">gulp.task(<span class="string">'clean'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">cb</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> del([<span class="string">'dist/*'</span>],cb);</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">//操作js文件</span></div><div class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);</div><div class="line"><span class="keyword">var</span> concat = <span class="built_in">require</span>(<span class="string">'gulp-concat'</span>);</div><div class="line"><span class="keyword">var</span> babel = <span class="built_in">require</span>(<span class="string">'gulp-babel'</span>);</div><div class="line"><span class="keyword">var</span> babeles2015 = <span class="built_in">require</span>(<span class="string">'babel-preset-es2015'</span>);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'js'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    gulp.src(<span class="string">'src/js/*.js'</span>)</div><div class="line">        .pipe(babel(&#123;</div><div class="line">            <span class="attr">presets</span>: [<span class="string">'es2015'</span>]</div><div class="line">        &#125;))</div><div class="line">        .pipe(concat(<span class="string">'all.js'</span>))</div><div class="line">        .pipe(uglify())</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/js'</span>))</div><div class="line">        .pipe(browsersync.stream());  <span class="comment">//文件有更新自动执行</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">//操作css文件</span></div><div class="line"><span class="keyword">var</span> cssnano = <span class="built_in">require</span>(<span class="string">'gulp-cssnano'</span>);<span class="comment">//css压缩插件</span></div><div class="line"><span class="comment">// var less=require('gulp-less');//less文件编译</span></div><div class="line">gulp.task(<span class="string">'css'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'src/css/*.css'</span>)</div><div class="line">        <span class="comment">// .pipe(less()) //编译less文件</span></div><div class="line">        .pipe(cssnano())<span class="comment">//css压缩</span></div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/css'</span>))</div><div class="line">        .pipe(browsersync.stream());</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">'gulp-htmlmin'</span>);      <span class="comment">//html压缩插件</span></div><div class="line">gulp.task(<span class="string">'html'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'src/*.html'</span>)</div><div class="line">        .pipe(htmlmin(&#123;</div><div class="line">            <span class="comment">//压缩html</span></div><div class="line">            collapseWhitespace: <span class="literal">true</span>,</div><div class="line">            <span class="comment">//省略布尔属性的值</span></div><div class="line">            collapseBooleanAttributes: <span class="literal">true</span>,</div><div class="line">            <span class="comment">//清除html注释</span></div><div class="line">            removeComments: <span class="literal">true</span>,</div><div class="line">            <span class="comment">//删除所有空格作为属性值</span></div><div class="line">            removeEmptyAttributes: <span class="literal">true</span>,</div><div class="line">            <span class="comment">//删除type=text/javascript</span></div><div class="line">            removeScriptTypeAttributes: <span class="literal">true</span>,</div><div class="line">            <span class="comment">//删除type=text/css</span></div><div class="line">            removeStyleLinkTypeAttributes: <span class="literal">true</span>,</div><div class="line">            <span class="comment">//压缩页面js</span></div><div class="line">            minifyJS:<span class="literal">true</span>,</div><div class="line">            <span class="comment">//压缩页面css</span></div><div class="line">            minifyCSS:<span class="literal">true</span></div><div class="line">        &#125;))</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>))</div><div class="line">        .pipe(browsersync.stream());</div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">gulp.task(<span class="string">'serve'</span>, [<span class="string">'clean'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.start(<span class="string">'js'</span>,<span class="string">'css'</span>,<span class="string">'html'</span>);</div><div class="line">    browsersync.init(&#123;</div><div class="line">        <span class="attr">port</span>: <span class="number">3000</span>,</div><div class="line">        <span class="attr">server</span>: &#123;</div><div class="line">            <span class="attr">baseDir</span>: [<span class="string">'dist'</span>]</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    gulp.watch(<span class="string">'src/js/*.js'</span>, [<span class="string">'js'</span>]);         <span class="comment">//监控文件变化，自动更新</span></div><div class="line">    gulp.watch(<span class="string">'src/css/*.css'</span>, [<span class="string">'css'</span>]);</div><div class="line">    gulp.watch(<span class="string">'src/*.html'</span>, [<span class="string">'html'</span>]);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">gulp.task(<span class="string">'default'</span>,[<span class="string">'serve'</span>]);</div></pre></td></tr></table></figure>
<h2 id="gulp学习资料"><a href="#gulp学习资料" class="headerlink" title="gulp学习资料"></a>gulp学习资料</h2><ol>
<li><a href="http://javascript.ruanyifeng.com/tool/gulp.html" target="_blank" rel="external">Gulp：任务自动管理工具</a></li>
<li><a href="http://ju.outofmemory.cn/entry/103253" target="_blank" rel="external">gulp plugins 插件介绍</a></li>
<li><a href="https://github.com/gulpjs/gulp" target="_blank" rel="external">https://github.com/gulpjs/gulp</a></li>
<li><a href="http://www.browsersync.cn/docs/gulp/" target="_blank" rel="external">Browsersync / 说明文档</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;glup学习&quot;&gt;&lt;a href=&quot;#glup学习&quot; class=&quot;headerlink&quot; title=&quot;glup学习&quot;&gt;&lt;/a&gt;glup学习&lt;/h1&gt;&lt;p&gt;gulpjs是一个前端构建工具，与gruntjs相比，gulpjs无需写一大堆繁杂的配置参数，API也非常简
    
    </summary>
    
      <category term="工具" scheme="http://www.qirenji.info/categories/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="gulp" scheme="http://www.qirenji.info/categories/%E5%B7%A5%E5%85%B7/gulp/"/>
    
    
      <category term="gulp" scheme="http://www.qirenji.info/tags/gulp/"/>
    
      <category term="自动化工具" scheme="http://www.qirenji.info/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>webpack学习</title>
    <link href="http://www.qirenji.info/2017/07/29/webpack%E5%AD%A6%E4%B9%A0/"/>
    <id>http://www.qirenji.info/2017/07/29/webpack学习/</id>
    <published>2017-07-29T15:50:25.000Z</published>
    <updated>2017-07-30T15:52:32.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="webpack学习"><a href="#webpack学习" class="headerlink" title="webpack学习"></a>webpack学习</h1><p>webpack室一款模块加载器兼打包工具，它能把各种资源，例如JS、样式（含less/sass）、图片等都作为模块来使用和处理。</p>
<p>webpack不同于gulp和grunt。</p>
<p>gulp是工具链、构建工具，可以配合各种插件做js压缩，css压缩，less编译 替代手工实现自动化的工具</p>
<pre><code>1.构建工具

2.自动化

3.提高效率用
</code></pre><p>webpack是文件打包工具，可以把项目的各种js文、css文件等打包合并成一个或多个文件，主要用于模块化方案，预编译模块的方案。</p>
<pre><code>1.打包工具

2.模块化识别

3.编译模块代码方案用
</code></pre><p>webpack的官网是 <a href="http://webpack.github.io/" target="_blank" rel="external">http://webpack.github.io/</a> ，文档地址是 <a href="http://webpack.github.io/docs/" target="_blank" rel="external">http://webpack.github.io/docs/</a> 。</p>
<p>webpack主要有4大核心概念</p>
<h2 id="Entry"><a href="#Entry" class="headerlink" title="Entry"></a>Entry</h2><p>entry 是页面入口文件配置，其语法大致为：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attribute">entry</span>: &#123;</div><div class="line">        page1: <span class="string">"./page1"</span>,</div><div class="line">        page2: [<span class="string">"./entry1"</span>, <span class="string">"./entry2"</span>]</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="output"><a href="#output" class="headerlink" title="output"></a>output</h2><p>output 是对应输出项配置（即入口文件最终要生成什么名字的文件、存放到哪里）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">output</span>: &#123;</div><div class="line">        <span class="attribute">path</span>: <span class="string">"dist/js/page"</span>,</div><div class="line">        filename: <span class="string">"[name].bundle.js"</span></div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="module-loaders"><a href="#module-loaders" class="headerlink" title="module.loaders"></a>module.loaders</h2><p> module.loaders 是最关键的一块配置。它告知 webpack 每一种文件都需要使用什么加载器来处理：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="string">module:</span> &#123;</div><div class="line">        <span class="comment">//加载器配置</span></div><div class="line"><span class="symbol">        loaders:</span> [</div><div class="line">            <span class="comment">//.css 文件使用 style-loader 和 css-loader 来处理</span></div><div class="line">            &#123; <span class="string">test:</span> <span class="regexp">/\.css$/</span>, <span class="string">loader:</span> <span class="string">'style-loader!css-loader'</span> &#125;,</div><div class="line">            <span class="comment">//.js 文件使用 jsx-loader 来编译处理</span></div><div class="line">            &#123; <span class="string">test:</span> <span class="regexp">/\.js$/</span>, <span class="string">loader:</span> <span class="string">'jsx-loader?harmony'</span> &#125;,</div><div class="line">            <span class="comment">//.scss 文件使用 style-loader、css-loader 和 sass-loader 来编译处理</span></div><div class="line">            &#123; <span class="string">test:</span> <span class="regexp">/\.scss$/</span>, <span class="string">loader:</span> <span class="string">'style!css!sass?sourceMap'</span>&#125;,</div><div class="line">            <span class="comment">//图片文件使用 url-loader 来处理，小于8kb的直接转为base64</span></div><div class="line">            &#123; <span class="string">test:</span> <span class="regexp">/\.(png|jpg)$/</span>, <span class="string">loader:</span> <span class="string">'url-loader?limit=8192'</span>&#125;</div><div class="line">        ]</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h2><p>Loaders是以单个文件为基础对文件进行操作，而Plugins与Loaders不同的是，Plugins是对整体进行操作。</p>
<p>使用插件，你只需要将其进行引入到配置文件并添加到plugins数组中，大多数的插件都是可通过选项进行配置。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="string">plugins:</span> [</div><div class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(),  <span class="comment">//丑化压缩JS</span></div><div class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;<span class="string">template:</span> <span class="string">'./src/index.html'</span>&#125;)  <span class="comment">//生成HTML模板</span></div><div class="line">  ]</div></pre></td></tr></table></figure>
<p>如需了解更多，请跳转址<a href="https://doc.webpack-china.org/" target="_blank" rel="external">webpack中文教程</a>。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;webpack学习&quot;&gt;&lt;a href=&quot;#webpack学习&quot; class=&quot;headerlink&quot; title=&quot;webpack学习&quot;&gt;&lt;/a&gt;webpack学习&lt;/h1&gt;&lt;p&gt;webpack室一款模块加载器兼打包工具，它能把各种资源，例如JS、样式（含less
    
    </summary>
    
      <category term="webpack" scheme="http://www.qirenji.info/categories/webpack/"/>
    
      <category term="工具" scheme="http://www.qirenji.info/categories/webpack/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="webpack" scheme="http://www.qirenji.info/tags/webpack/"/>
    
      <category term="打包工具" scheme="http://www.qirenji.info/tags/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>Vue.js+Socket.io- 智能聊天室</title>
    <link href="http://www.qirenji.info/2017/07/27/Vue-js-Socket-io-%E6%99%BA%E8%83%BD%E8%81%8A%E5%A4%A9%E5%AE%A4/"/>
    <id>http://www.qirenji.info/2017/07/27/Vue-js-Socket-io-智能聊天室/</id>
    <published>2017-07-27T13:02:29.000Z</published>
    <updated>2017-08-28T02:11:21.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Vue-js-Socket-io-智能聊天室"><a href="#Vue-js-Socket-io-智能聊天室" class="headerlink" title="Vue.js+Socket.io- 智能聊天室"></a>Vue.js+Socket.io- 智能聊天室</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本项目是使用Vue.js+Socket.io+Express实现的一个多人聊天室，也可以和智能机器人聊天，这里调用<a href="http://api.qingyunke.com/" target="_blank" rel="external">青云客API</a>接口。本项目虽然简单，但对vue的技术使用的还是比较全面的。</p>
<p>源码地址 👉 <a href="https://github.com/qirenji/chat-vue" target="_blank" rel="external">https://github.com/qirenji/chat-vue</a></p>
<h2 id="实现功能"><a href="#实现功能" class="headerlink" title="实现功能"></a>实现功能</h2><ul>
<li>[x] 登录功能 – 完成</li>
<li>[x] 聊天功能 – 完成</li>
<li>[x] 多人聊天室 – 完成</li>
<li>[x] 与机器人聊天 – 完成</li>
</ul>
<h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p>在线预览地址 👉 <a href="http://60.205.181.124:18004/" target="_blank" rel="external">http://60.205.181.124:18004/</a></p>
<p>多人群聊效果预览<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/chat-vue/chat.png" alt="多人群聊效果图" title="">
                </div>
                <div class="image-caption">多人群聊效果图</div>
            </figure></p>
<p>智能机器人聊天效果预览<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/chat-vue/ai.png" alt="智能机器人聊天效果图" title="">
                </div>
                <div class="image-caption">智能机器人聊天效果图</div>
            </figure></p>
<h2 id="技术栈"><a href="#技术栈" class="headerlink" title="技术栈"></a>技术栈</h2><ul>
<li><strong>Vue2.0</strong>：前端页面展示。</li>
<li><strong>Socket.io</strong>：实现实时通信</li>
<li><strong>Vuex</strong>：实现不同组件间的状态共享</li>
<li><strong>vue-router</strong>：页面路由切换</li>
<li><strong>axios</strong>：向后端发起请求。</li>
<li><strong>Express</strong>：实现后端socket.io监听功能。</li>
<li><strong>Moment.js</strong>：格式化时间。</li>
<li><strong>ES6</strong>：箭头函数等语法很好用。</li>
<li><strong>localStorage</strong>：保存用户信息以及聊天记录。</li>
<li><strong>Webpack</strong>：vue-cli自带Webpack，添加sass相关loader，其他vue-cli已经配置好了webpack，你只需要安装依赖就可以，使用的时候只需要<style lang="scss"></style>。</li>
<li><strong>SASS(SCSS)</strong>：用SCSS做CSS预处理语言。</li>
<li><strong>flex</strong>：flex弹性布局，简单适配手机、PC端。</li>
<li><strong>CSS3</strong>：CSS3过渡动画及样式。</li>
</ul>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>socket.io</p>
<p>在服务器端</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">io.<span class="literal">on</span>(<span class="string">'connection'</span>, <span class="function"><span class="params">(socket)</span> =&gt;</span> &#123;</div><div class="line"></div><div class="line">  <span class="regexp">//</span> 群聊</div><div class="line">  socket.<span class="literal">on</span>(<span class="string">'sendGroupMsg'</span>, function (data) &#123;</div><div class="line">    socket.broadcast.emit(<span class="string">'receiveGroupMsg'</span>, data);</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>在客户端</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/socket.io/socket.io.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line">  <span class="comment">//上线发送名称信息 </span></div><div class="line">    socket.emit(<span class="string">'online'</span>, <span class="keyword">this</span>.$store.state.name);</div><div class="line">    <span class="comment">// console.log(this.$store.state.name);</span></div><div class="line">    <span class="comment">// 监听是否有上线的</span></div><div class="line">    socket.on(<span class="string">'online'</span>, (name) =&gt; <span class="template-variable">&#123;</span></div><div class="line">     ……</div><div class="line">    &#125;<span class="xml"><span class="actionscript">);</span></span></div><div class="line"></div><div class="line">    <span class="comment">// 监听是否有人在发送信息</span></div><div class="line">    socket.on(<span class="string">'receiveGroupMsg'</span>, data =&gt; <span class="template-variable">&#123;</span></div><div class="line">      ……</div><div class="line">    &#125;<span class="xml"><span class="undefined">);</span></span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>不管是服务器还是客户端都有 emit 和 on 这两个函数，可以说 socket.io 的核心就是这两个函数了，通过 emit 和 on 可以轻松地实现服务器与客户端之间的双向通信。</p>
<p>##emit## ：用来触发一个事件，第一个参数为事件名，第二个参数为要发送的数据,如果要向所有在线的人发送信息需要夹，broadcast是发送信息到广播组的其他人。</p>
<p>##on## ：用来监听一个 emit 触发的事件，第一个参数为要监听的事件名，第二个参数为一个匿名函数用来接收对方发来的数据。</p>
<h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><p>关于我: <a href="http://www.qirenji.info">http://www.qirenji.info</a></p>
<p>GitHub: <a href="https://github.com/qirenji/" target="_blank" rel="external">https://github.com/qirenji/</a></p>
<p>E-mail: lyf@qirenji.com</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Vue-js-Socket-io-智能聊天室&quot;&gt;&lt;a href=&quot;#Vue-js-Socket-io-智能聊天室&quot; class=&quot;headerlink&quot; title=&quot;Vue.js+Socket.io- 智能聊天室&quot;&gt;&lt;/a&gt;Vue.js+Socket.io- 智
    
    </summary>
    
      <category term="Vue" scheme="http://www.qirenji.info/categories/Vue/"/>
    
      <category term="实战项目" scheme="http://www.qirenji.info/categories/Vue/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/"/>
    
    
      <category term="Vue" scheme="http://www.qirenji.info/tags/Vue/"/>
    
      <category term="智能聊天室" scheme="http://www.qirenji.info/tags/%E6%99%BA%E8%83%BD%E8%81%8A%E5%A4%A9%E5%AE%A4/"/>
    
  </entry>
  
  <entry>
    <title>nginx学习</title>
    <link href="http://www.qirenji.info/2017/07/26/nginx%E5%AD%A6%E4%B9%A0/"/>
    <id>http://www.qirenji.info/2017/07/26/nginx学习/</id>
    <published>2017-07-26T14:04:29.000Z</published>
    <updated>2017-07-26T14:05:42.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ngix学习"><a href="#ngix学习" class="headerlink" title="ngix学习"></a>ngix学习</h1><h2 id="静态HTTP服务器"><a href="#静态HTTP服务器" class="headerlink" title="静态HTTP服务器"></a>静态HTTP服务器</h2><p>首先，Nginx是一个HTTP服务器，可以将服务器上的静态文件（如HTML、图片）通过HTTP协议展现给客户端。</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="section">server</span> &#123;</div><div class="line">	<span class="attribute">listen</span> <span class="number">80</span>; <span class="comment"># 端口号</span></div><div class="line">	<span class="attribute">location</span> / &#123;</div><div class="line">		<span class="attribute">root</span> /usr/share/nginx/html; <span class="comment"># 静态文件路径</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="反向代理服务器"><a href="#反向代理服务器" class="headerlink" title="反向代理服务器"></a>反向代理服务器</h2><p>客户端本来可以直接通过HTTP协议访问某网站应用服务器，如果网站管理员在中间加上一个Nginx，客户端请求Nginx，Nginx请求应用服务器，然后将结果返回给客户端，此时Nginx就是反向代理服务器。</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">listen</span> <span class="number">80</span>;</div><div class="line">    <span class="attribute">location</span> / &#123;</div><div class="line">        <span class="attribute">proxy_pass</span> http://192.168.20.1:8080; <span class="comment"># 应用服务器HTTP地址</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h2><p>当网站访问量非常大，网站站长开心赚钱的同时，也摊上事儿了。因为网站越来越慢，一台服务器已经不够用了。于是将相同的应用部署在多台服务器上，将大量用户的请求分配给多台机器处理。同时带来的好处是，其中一台服务器万一挂了，只要还有其他服务器正常运行，就不会影响用户使用。</p>
<p>Nginx可以通过反向代理来实现负载均衡。</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">upstream</span> myapp &#123;</div><div class="line">	<span class="attribute">server</span> <span class="number">192.168.20.1:8080</span>; <span class="comment"># 应用服务器1</span></div><div class="line">	<span class="attribute">server</span> <span class="number">192.168.20.2:8080</span>; <span class="comment"># 应用服务器2</span></div><div class="line">&#125;</div><div class="line"><span class="section">server</span> &#123;</div><div class="line">	<span class="attribute">listen</span> <span class="number">80</span>;</div><div class="line">	<span class="attribute">location</span> / &#123;</div><div class="line">		<span class="attribute">proxy_pass</span> http://myapp;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="虚拟主机"><a href="#虚拟主机" class="headerlink" title="虚拟主机"></a>虚拟主机</h2><p>网站访问量大，需要负载均衡。然而并不是所有网站都如此出色，有的网站，由于访问量太小，需要节省成本，将多个网站部署在同一台服务器上。<br>例如将www.aaa.com和www.bbb.com两个网站部署在同一台服务器上，两个域名解析到同一个IP地址，但是用户通过两个域名却可以打开两个完全不同的网站，互相不影响，就像访问两个服务器一样，所以叫两个虚拟主机。</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="section">server</span> &#123;</div><div class="line">	<span class="attribute">listen</span> <span class="number">80</span> default_server;</div><div class="line">	<span class="attribute">server_name</span> _;</div><div class="line">	<span class="attribute">return</span> <span class="number">444</span>; <span class="comment"># 过滤其他域名的请求，返回444状态码</span></div><div class="line">&#125;</div><div class="line"><span class="section">server</span> &#123;</div><div class="line">	<span class="attribute">listen</span> <span class="number">80</span>;</div><div class="line">	<span class="attribute">server_name</span> www.aaa.com; <span class="comment"># www.aaa.com域名</span></div><div class="line">	<span class="attribute">location</span> / &#123;</div><div class="line">		<span class="attribute">proxy_pass</span> http://localhost:8080; <span class="comment"># 对应端口号8080</span></div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="section">server</span> &#123;</div><div class="line">	<span class="attribute">listen</span> <span class="number">80</span>;</div><div class="line">	<span class="attribute">server_name</span> www.bbb.com; <span class="comment"># www.bbb.com域名</span></div><div class="line">	<span class="attribute">location</span> / &#123;</div><div class="line">		<span class="attribute">proxy_pass</span> http://localhost:8081; <span class="comment"># 对应端口号8081</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在服务器8080和8081分别开了一个应用，客户端通过不同的域名访问，根据server_name可以反向代理到对应的应用服务器。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ngix学习&quot;&gt;&lt;a href=&quot;#ngix学习&quot; class=&quot;headerlink&quot; title=&quot;ngix学习&quot;&gt;&lt;/a&gt;ngix学习&lt;/h1&gt;&lt;h2 id=&quot;静态HTTP服务器&quot;&gt;&lt;a href=&quot;#静态HTTP服务器&quot; class=&quot;headerlink
    
    </summary>
    
      <category term="服务器" scheme="http://www.qirenji.info/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="Nginx" scheme="http://www.qirenji.info/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/Nginx/"/>
    
    
      <category term="Nginx" scheme="http://www.qirenji.info/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>git提交到多个远程仓库</title>
    <link href="http://www.qirenji.info/2017/07/25/git%E6%8F%90%E4%BA%A4%E5%88%B0%E5%A4%9A%E4%B8%AA%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93/"/>
    <id>http://www.qirenji.info/2017/07/25/git提交到多个远程仓库/</id>
    <published>2017-07-25T03:11:05.000Z</published>
    <updated>2017-08-25T03:12:13.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>分别有仓库A（github）,B（码云的git），本机为C。</p>
<p>假设以 a 仓库作为最终的使用仓库， b为发布仓库，想两个仓库一起使用，怎么用呢？</p>
<h2 id="增加远程仓库"><a href="#增加远程仓库" class="headerlink" title="增加远程仓库"></a>增加远程仓库</h2><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#添加github</span></div><div class="line"><span class="string">git </span><span class="string">remote </span><span class="string">add </span><span class="string">origin </span><span class="string">https:</span>//<span class="string">github.</span><span class="string">com/</span><span class="string">xxx(</span>仓库地址)</div><div class="line"><span class="comment">#添加oschina</span></div><div class="line"><span class="string">git </span><span class="string">remote </span><span class="built_in">set-url</span> <span class="built_in">--add</span> <span class="string">origin </span><span class="string">https:</span>//<span class="string">git.</span><span class="string">oschina.</span><span class="string">net/</span><span class="string">xxxx(</span>仓库地址)</div></pre></td></tr></table></figure>
<h2 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> --all</div></pre></td></tr></table></figure>
<p>这样就可以把本机的代码提交两个仓库了。</p>
<p>但是如果两个仓库都有内容。那么问题来了： 怎么才能把两个远程仓库代码同步？以便以后可以代码同时推送到这两个仓库。</p>
<p>直接在命令行敲：</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git push -f origin --all </div><div class="line"></div><div class="line">注释： origin 远程仓库名， <span class="keyword">master</span> <span class="title">分支名， -f</span> 为force，意为：强行、强制。</div></pre></td></tr></table></figure>
<p>当然不止这一种操作方式了，但是这种操作是最快速的，不会有冲突什么。</p>
<p>⚠️：这个-f命令请谨慎使用：请谨慎使用！请谨慎使用！请谨慎使用！</p>
<p>毕竟数据无价，如果被覆盖后，就不那么好恢复了。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;问题&quot;&gt;&lt;a href=&quot;#问题&quot; class=&quot;headerlink&quot; title=&quot;问题&quot;&gt;&lt;/a&gt;问题&lt;/h1&gt;&lt;p&gt;分别有仓库A（github）,B（码云的git），本机为C。&lt;/p&gt;
&lt;p&gt;假设以 a 仓库作为最终的使用仓库， b为发布仓库，想两个仓库一
    
    </summary>
    
      <category term="远程管理" scheme="http://www.qirenji.info/categories/%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86/"/>
    
    
      <category term="git" scheme="http://www.qirenji.info/tags/git/"/>
    
      <category term="远程管理" scheme="http://www.qirenji.info/tags/%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>flex布局学习</title>
    <link href="http://www.qirenji.info/2017/07/24/flex%E5%B8%83%E5%B1%80%E5%AD%A6%E4%B9%A0/"/>
    <id>http://www.qirenji.info/2017/07/24/flex布局学习/</id>
    <published>2017-07-24T14:54:39.000Z</published>
    <updated>2017-07-24T14:55:49.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Flex布局"><a href="#Flex布局" class="headerlink" title="Flex布局"></a>Flex布局</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>Flex意为弹性布局，用来为盒模型提供最大的灵活性。设置为Flex布局之后，float、clear和vertical-align属性将失效。</p>
<p>使用Flex布局，首先要设置父容器为</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">display: </span>flex<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>这样就可以使用</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">justify-<span class="built_in">content</span>: <span class="built_in">center</span>;</div></pre></td></tr></table></figure>
<p>实现水平居中</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">align-items</span>: center;</div></pre></td></tr></table></figure>
<p>实现垂直居中。</p>
<h2 id="容器的属性"><a href="#容器的属性" class="headerlink" title="容器的属性"></a>容器的属性</h2><p>以下6个属性设置在容器上。</p>
<ul>
<li>flex-direction</li>
<li>flex-wrap</li>
<li>flex-flow</li>
<li>justify-content</li>
<li>align-items</li>
<li>align-content<h3 id="flex-direction属性"><a href="#flex-direction属性" class="headerlink" title="flex-direction属性"></a>flex-direction属性</h3>flex-direction属性决定主轴的方向（即项目的排列方向）。</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.flex-box</span>&#123; </div><div class="line">    <span class="attribute">flex-direction</span>: row | row-reverse | column | column-reverse; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>row（默认值）：主轴为水平方向，起点在左端。</li>
<li>row-reverse：主轴为水平方向，起点在右端。</li>
<li>column：主轴为垂直方向，起点在上沿。</li>
<li>column-reverse：主轴为垂直方向，起点在下沿。</li>
</ul>
<h3 id="flex-wrap属性"><a href="#flex-wrap属性" class="headerlink" title="flex-wrap属性"></a>flex-wrap属性</h3><p>flex-wrap属性定义，如果一条轴线排不下，如何换行。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.flex-box</span>&#123;</div><div class="line">  <span class="attribute">flex-wrap</span>: nowrap | wrap | wrap-reverse;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>nowrap ：默认，不换行</li>
<li>wrap ：换行，第一行在上方</li>
<li>wrap-reverse：换行，第一行在下方</li>
</ul>
<h3 id="flex-flow属性"><a href="#flex-flow属性" class="headerlink" title="flex-flow属性"></a>flex-flow属性</h3><p>flex-flow属性是flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.flex-box</span> &#123;</div><div class="line">  <span class="attribute">flex-flow</span>: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="justify-content属性"><a href="#justify-content属性" class="headerlink" title="justify-content属性"></a>justify-content属性</h3><p>justify-content属性定义了项目在主轴上的对齐方式。</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.flex-box &#123;</div><div class="line">  justify-content: flex-start | flex-<span class="keyword">end</span> | center | <span class="literal">space</span>-<span class="keyword">between</span> | <span class="literal">space</span>-<span class="keyword">around</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>它可能取5个值，具体对齐方式与轴的方向有关。下面假设主轴为从左到右。</p>
<ul>
<li>flex-start（默认值）：左对齐</li>
<li>flex-end：右对齐</li>
<li>center： 居中</li>
<li>space-between：两端对齐，项目之间的间隔都相等。</li>
<li>space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。</li>
</ul>
<h3 id="align-items属性"><a href="#align-items属性" class="headerlink" title="align-items属性"></a>align-items属性</h3><figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.flex-box &#123;</div><div class="line">  align-items: flex-start | <span class="type">flex</span>-<span class="keyword">end</span> | <span class="type">center</span> | <span class="type">baseline</span> | <span class="type">stretch</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>它可能取5个值。具体的对齐方式与交叉轴的方向有关，下面假设交叉轴从上到下。</p>
<ul>
<li>flex-start：交叉轴的起点对齐。</li>
<li>flex-end：交叉轴的终点对齐。</li>
<li>center：交叉轴的中点对齐。</li>
<li>baseline:项目的第一行文字的基线对齐。</li>
<li>stretch（默认值）：如果项目未设置高度或设为auto，将占满整个容器的高度。<h3 id="align-content属性"><a href="#align-content属性" class="headerlink" title="align-content属性"></a>align-content属性</h3></li>
</ul>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.flex-box &#123;</div><div class="line">  align-content: flex-start | <span class="type">flex</span>-<span class="keyword">end</span> | <span class="type">center</span> | <span class="type">space</span>-between | <span class="type">space</span>-around | <span class="type">stretch</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>flex-start：与交叉轴的起点对齐。</li>
<li>flex-end：与交叉轴的终点对齐。</li>
<li>center：与交叉轴的中点对齐。</li>
<li>space-between：与交叉轴两端对齐，轴线之间的间隔平均分布。</li>
<li>space-around：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍。</li>
<li>stretch（默认值）：轴线占满整个交叉轴(如果项目未设置高度或设为auto时，并且align-item连用，否则失效）<br>)</li>
</ul>
<h2 id="项目中常用属性"><a href="#项目中常用属性" class="headerlink" title="项目中常用属性"></a>项目中常用属性</h2><p>首先父级使用</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">display</span>：<span class="attribute">flex</span></div></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">按比例分配</div></pre></td></tr></table></figure>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">flex：<span class="built_in">n</span></div></pre></td></tr></table></figure>
<h3 id="分配固定像素"><a href="#分配固定像素" class="headerlink" title="分配固定像素"></a>分配固定像素</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">flex:</span> <span class="number">0</span> <span class="number">0</span> <span class="number">200</span>px。</div></pre></td></tr></table></figure>
<p>来分配200像素的空间。</p>
<h3 id="分配方向"><a href="#分配方向" class="headerlink" title="分配方向"></a>分配方向</h3><p>默认是水平分配，如需垂直分配，则使用</p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">flex-directi<span class="symbol">on:</span> <span class="built_in">column</span></div></pre></td></tr></table></figure>
<h3 id="子项水平居中"><a href="#子项水平居中" class="headerlink" title="子项水平居中"></a>子项水平居中</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">justify-<span class="built_in">content</span>: <span class="built_in">center</span></div></pre></td></tr></table></figure>
<h3 id="子项垂直居中"><a href="#子项垂直居中" class="headerlink" title="子项垂直居中"></a>子项垂直居中</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">align-items</span>: center;</div></pre></td></tr></table></figure>
<p>如需学习更多有关flex的相关知识，可去<a href="http://www.runoob.com/cssref/css3-pr-flex.html" target="_blank" rel="external">菜鸟教程</a>和<a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="external">阮一峰</a>老师的博客。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Flex布局&quot;&gt;&lt;a href=&quot;#Flex布局&quot; class=&quot;headerlink&quot; title=&quot;Flex布局&quot;&gt;&lt;/a&gt;Flex布局&lt;/h1&gt;&lt;h2 id=&quot;基本概念&quot;&gt;&lt;a href=&quot;#基本概念&quot; class=&quot;headerlink&quot; title=&quot;基
    
    </summary>
    
      <category term="CSS3" scheme="http://www.qirenji.info/categories/CSS3/"/>
    
    
      <category term="flex" scheme="http://www.qirenji.info/tags/flex/"/>
    
      <category term="CSS3" scheme="http://www.qirenji.info/tags/CSS3/"/>
    
  </entry>
  
  <entry>
    <title>git常用命令</title>
    <link href="http://www.qirenji.info/2017/07/22/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>http://www.qirenji.info/2017/07/22/git常用命令/</id>
    <published>2017-07-22T13:48:13.000Z</published>
    <updated>2017-07-22T13:49:52.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="git常用命令"><a href="#git常用命令" class="headerlink" title="git常用命令"></a>git常用命令</h1><h2 id="基本命令使用"><a href="#基本命令使用" class="headerlink" title="基本命令使用"></a>基本命令使用</h2><ol>
<li><p>在当前目录创建Git仓库，会在当前目录创建.git文件夹</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git init</span></div></pre></td></tr></table></figure>
</li>
<li><p>把文件提交到暂存区</p>
</li>
</ol>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">add</span><span class="bash"> ./&lt;path&gt;</span></div></pre></td></tr></table></figure>
<ol>
<li>提交当前工作空前的修改内容</li>
</ol>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git</span> commit -m <span class="string">'注释'</span></div></pre></td></tr></table></figure>
<ol>
<li>将存储库克隆到本地目录中</li>
</ol>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">clone</span> <span class="title">https</span>://github.com/jquery/jquery.git</div></pre></td></tr></table></figure>
<ol>
<li>将本地分支的更新，推送到远程主机。</li>
</ol>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> master</div></pre></td></tr></table></figure>
<ol>
<li>从远程获取最新版本并merge到本地</li>
</ol>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git pull</span></div></pre></td></tr></table></figure>
<p>相当于git fetch和git merge一起使用</p>
<ol>
<li>列出详细信息，在每一个名字后面列出其远程url</li>
</ol>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git remote -v</span></div></pre></td></tr></table></figure>
<ol>
<li>在url创建名字为name的仓库<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-tag">git</span> <span class="selector-tag">remote</span> <span class="selector-tag">add</span> <span class="selector-tag">origin</span> <span class="selector-tag">git</span>@<span class="keyword">git</span>.*/<span class="keyword">website_node</span>.<span class="keyword">git</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><ol>
<li>创建分支</li>
</ol>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> <span class="keyword">branch </span>dev</div></pre></td></tr></table></figure>
<ol>
<li>切换分支</li>
</ol>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git checkout dev</span></div></pre></td></tr></table></figure>
<ol>
<li>查看当前分支</li>
</ol>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git branch</span></div></pre></td></tr></table></figure>
<ol>
<li>创建并切换分支</li>
</ol>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> <span class="keyword">branch </span>-d dev</div></pre></td></tr></table></figure>
<h2 id="解决冲突"><a href="#解决冲突" class="headerlink" title="解决冲突"></a>解决冲突</h2><p>Git最常用的可能就是多人协作时解决冲突问题。</p>
<p>一般会先push上自己的文件</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">add</span><span class="bash"> .</span></div><div class="line">git commit -m <span class="string">'注释'</span></div><div class="line">git push -u origin branch-name</div></pre></td></tr></table></figure>
<p>然后发现推送失败了，这是因为远程的分支和自己的本地推送内容更新，所以需要使用git pull把远程分支与本地合并。</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git pull</span></div></pre></td></tr></table></figure>
<p>如果合并有冲突，则需要在本地解决冲突。</p>
<p>解决冲突之后，再重新git push就能推送成功了。</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> baranch-name</div></pre></td></tr></table></figure>
<p>这就是多人协作之解决冲突。</p>
<p>这里也推荐初学者使用 <a href="https://desktop.github.com/" target="_blank" rel="external">github desktop</a>，毕竟图形化界面使用起来更直观一些。</p>
<p>如需学习更多内容，请参廖雪峰老师的<a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">Git教程</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;git常用命令&quot;&gt;&lt;a href=&quot;#git常用命令&quot; class=&quot;headerlink&quot; title=&quot;git常用命令&quot;&gt;&lt;/a&gt;git常用命令&lt;/h1&gt;&lt;h2 id=&quot;基本命令使用&quot;&gt;&lt;a href=&quot;#基本命令使用&quot; class=&quot;headerlink&quot; 
    
    </summary>
    
      <category term="远程管理" scheme="http://www.qirenji.info/categories/%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86/"/>
    
    
      <category term="git" scheme="http://www.qirenji.info/tags/git/"/>
    
      <category term="远程管理" scheme="http://www.qirenji.info/tags/%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>vue全家桶总结</title>
    <link href="http://www.qirenji.info/2017/07/20/vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E6%80%BB%E7%BB%93/"/>
    <id>http://www.qirenji.info/2017/07/20/vue全家桶总结/</id>
    <published>2017-07-20T14:09:27.000Z</published>
    <updated>2017-07-20T14:15:18.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="vue全家桶学习"><a href="#vue全家桶学习" class="headerlink" title="vue全家桶学习"></a>vue全家桶学习</h1><h2 id="一-vue-cli-手脚架搭建项目"><a href="#一-vue-cli-手脚架搭建项目" class="headerlink" title="一. vue-cli(手脚架搭建项目)"></a>一. vue-cli(手脚架搭建项目)</h2><p>初始化项目<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">vue init webpack projectName</span></div></pre></td></tr></table></figure></p>
<p>然后顺序执行如下命令，可启动vue项目</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd <span class="keyword">my</span>-project</div><div class="line">npm install</div><div class="line">npm <span class="built_in">run</span> dev</div></pre></td></tr></table></figure>
<p>如项目中使用其他库或组件需  </p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install *** --<span class="built_in">save</span>-<span class="built_in">dev</span></div></pre></td></tr></table></figure>
<p>例如使用scss编写软件,需安装sass编译工具 </p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install sass sass-loader <span class="keyword">node</span><span class="title">-sass</span> --save-dev</div></pre></td></tr></table></figure>
<h2 id="二-vue-router"><a href="#二-vue-router" class="headerlink" title="二.vue-router"></a>二.vue-router</h2><p>vue-router主要作为程序的路由控制器</p>
<ul>
<li>使用：</li>
</ul>
<p>main.js中添加router</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">import</span> <span class="selector-tag">router</span> <span class="selector-tag">from</span> ‘./<span class="selector-tag">router</span>’</div><div class="line"><span class="selector-tag">new</span> <span class="selector-tag">Vue</span>(&#123;</div><div class="line">  <span class="attribute">el</span>: <span class="string">'#app'</span>,</div><div class="line">  router,</div><div class="line">  <span class="attribute">template</span>: <span class="string">'&lt;App/&gt;'</span>,</div><div class="line">  <span class="attribute">components</span>: &#123; App &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>./router/index.js文件中</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">import Router <span class="keyword">from</span> ‘vue-router’</div><div class="line">Vue.use(Router);</div><div class="line"></div><div class="line"><span class="builtin-name">export</span><span class="built_in"> default </span>new Router(&#123;</div><div class="line">	routes: [</div><div class="line">		&#123;</div><div class="line">			path: ‘/user/:name’,</div><div class="line">			name: ‘user’,</div><div class="line">			component:<span class="built_in"> User</span></div><div class="line">		&#125;</div><div class="line">		&#123;</div><div class="line">			path: ‘/’,</div><div class="line">			redirect: ‘/goods’(映射两个地址的关系)</div><div class="line">		&#125;</div><div class="line">	]</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>路由的使用(相当于是a链接)，绑定to来传递数据</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">“</span></span></span><span class="template-variable">&#123;name:’user’, params: &#123;name:...&#125;</span><span class="xml"><span class="tag">&#125;”&gt;</span></span></div><div class="line"><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></div></pre></td></tr></table></figure>
<p>在要切换路由的位置使用router-view进行配合的</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="section">&lt;router-view&gt;</span><span class="section">&lt;/router-view&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>其他</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//返回上一页面</span></div><div class="line"><span class="keyword">this</span>.$router.go(<span class="number">-1</span>)</div></pre></td></tr></table></figure>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//等同于&lt;router-link&gt;</span></div><div class="line"><span class="keyword">this</span>.$router.push(&#123;<span class="string">name:</span><span class="string">'article'</span>,<span class="string">params:</span> &#123; &#125;&#125;)</div></pre></td></tr></table></figure>
<h2 id="三-vue-resource"><a href="#三-vue-resource" class="headerlink" title="三. vue-resource"></a>三. vue-resource</h2><h3 id="vue-resource"><a href="#vue-resource" class="headerlink" title="vue-resource"></a>vue-resource</h3><p>添加vue-resource组件</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta"><span class="meta-keyword">import</span> VueResource from ‘vue-resource’</span></div><div class="line"></div><div class="line">Vue.use(VueResource);</div></pre></td></tr></table></figure>
<p>使用：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">this.<span class="variable">$http</span>.<span class="builtin-name">get</span>(‘/goods’)</div><div class="line">	.then(<span class="built_in">..</span>.)</div></pre></td></tr></table></figure>
<h3 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h3><p>vue-ressource的下一代产品</p>
<figure class="highlight capnproto"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> VueAxios <span class="keyword">from</span> ‘vue-axios’</div><div class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> ‘axios’</div><div class="line"></div><div class="line">Vue.use(VueAxios,axios)</div></pre></td></tr></table></figure>
<p>使用：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.axios.get(‘https:<span class="comment">//...’)</span></div><div class="line">	.then(<span class="function"><span class="params">result</span> =&gt;</span> &#123; ... &#125;)</div><div class="line"><span class="keyword">this</span>.axios.post(‘https:<span class="comment">//’,&#123;accesstoken: this.ak&#125;)</span></div><div class="line">	.then(<span class="function"><span class="params">result</span> =&gt;</span> &#123; ... &#125;)</div></pre></td></tr></table></figure>
<h2 id="四-vuex"><a href="#四-vuex" class="headerlink" title="四. vuex"></a>四. vuex</h2><p>组件之间多通信时使用</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">import Vuex <span class="keyword">from</span> ‘vuex’</div><div class="line">vue.use(Vuex);</div><div class="line">const store = new Vuex.Store(&#123;</div><div class="line">	<span class="keyword">state</span>: &#123;</div><div class="line">		tab: ‘<span class="literal">all</span>’</div><div class="line">	&#125;,</div><div class="line">	mutations: &#123;</div><div class="line">		changeTab(<span class="keyword">state</span>,payload) &#123;</div><div class="line">			<span class="keyword">state</span>.tab = …</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;)</div><div class="line">new Vue(&#123;</div><div class="line">  el: '<span class="comment">#app',</span></div><div class="line">  store,</div><div class="line">  template: '<span class="variable">&lt;App/&gt;</span>',</div><div class="line">  components: &#123; App &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>在组件中使用</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">this.<span class="variable">$store</span>.<span class="keyword">state</span>.tab;</div><div class="line">this.<span class="variable">$store</span>.commit.(‘changeTab’,&#123; 传参 &#125;)</div></pre></td></tr></table></figure>
<h2 id="五-vue的属性"><a href="#五-vue的属性" class="headerlink" title="五. vue的属性"></a>五. vue的属性</h2><figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">props</span>: &#123;&#125;</div><div class="line"><span class="attribute">computed</span>: &#123;&#125;</div><div class="line"><span class="attribute">methods</span>: &#123;&#125;</div><div class="line"><span class="attribute">components</span>: &#123;&#125;</div><div class="line"><span class="attribute">filters</span>: &#123;&#125;</div><div class="line"><span class="attribute">watch</span>: &#123; ‘seller’() &#123;&#125;&#125;</div><div class="line"></div><div class="line"><span class="stylus"><span class="function"><span class="title">data</span><span class="params">()</span></span> &#123;&#125;</span></div><div class="line"><span class="function"><span class="title">created</span><span class="params">()</span></span> &#123;&#125;</div><div class="line"><span class="function"><span class="title">mounted</span><span class="params">()</span></span> &#123;&#125;</div></pre></td></tr></table></figure>
<p>注意这里只有data和生命周期的钩子函数使用函数形式。</p>
<h2 id="六、父子组件传递数据"><a href="#六、父子组件传递数据" class="headerlink" title="六、父子组件传递数据"></a>六、父子组件传递数据</h2><ul>
<li><h3 id="父to子"><a href="#父to子" class="headerlink" title="父to子"></a>父to子</h3>父组件中：</li>
</ul>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">v-bind:属性名=“ ”（简写为  :<span class="attribute">food</span>=“food”）</div></pre></td></tr></table></figure>
<p>子组件：</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">props</span>获取</div></pre></td></tr></table></figure>
<ul>
<li><h3 id="子to父"><a href="#子to父" class="headerlink" title="子to父"></a>子to父</h3></li>
</ul>
<p>子组件：<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$emit(<span class="string">'add'</span>,<span class="keyword">event</span>.target)</div></pre></td></tr></table></figure></p>
<p>父组件：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">v-on</span>(简写为<span class="variable">@add</span>=“addFood”)</div></pre></td></tr></table></figure>
<h2 id="七、其他"><a href="#七、其他" class="headerlink" title="七、其他"></a>七、其他</h2><p>DOM更新完成之后执行</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;	&#125;);</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;vue全家桶学习&quot;&gt;&lt;a href=&quot;#vue全家桶学习&quot; class=&quot;headerlink&quot; title=&quot;vue全家桶学习&quot;&gt;&lt;/a&gt;vue全家桶学习&lt;/h1&gt;&lt;h2 id=&quot;一-vue-cli-手脚架搭建项目&quot;&gt;&lt;a href=&quot;#一-vue-cli-手脚
    
    </summary>
    
      <category term="Vue" scheme="http://www.qirenji.info/categories/Vue/"/>
    
      <category term="JavaScript" scheme="http://www.qirenji.info/categories/Vue/JavaScript/"/>
    
    
      <category term="Vue" scheme="http://www.qirenji.info/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue.js打造的GitHub排行榜</title>
    <link href="http://www.qirenji.info/2017/07/20/Vue-js%E6%89%93%E9%80%A0%E7%9A%84GitHub%E6%8E%92%E8%A1%8C%E6%A6%9C/"/>
    <id>http://www.qirenji.info/2017/07/20/Vue-js打造的GitHub排行榜/</id>
    <published>2017-07-20T02:56:30.000Z</published>
    <updated>2017-08-28T02:58:28.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Vue-js打造的GitHub排行榜"><a href="#Vue-js打造的GitHub排行榜" class="headerlink" title="Vue.js打造的GitHub排行榜"></a>Vue.js打造的GitHub排行榜</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>爬虫简单小练习，利用Node js对github项目进行爬虫，对github各种类项目进行按🌟star数目进行排序。</p>
<p>Github地址：<a href="https://github.com/qirenji/github-ranking" target="_blank" rel="external">https://github.com/qirenji/github-ranking</a></p>
<h2 id="实现功能"><a href="#实现功能" class="headerlink" title="实现功能"></a>实现功能</h2><ul>
<li>[x] github爬取 – 完成</li>
<li>[x] 项目主页显示 – 完成</li>
<li>[x] 项目切换 – 完成</li>
</ul>
<h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p>在线预览地址 👉 <a href="http://60.205.181.124:18001/" target="_blank" rel="external">http://60.205.181.124:18001/</a></p>
<p><strong>首页</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/github-ranking/index.png" alt="首页" title="">
                </div>
                <div class="image-caption">首页</div>
            </figure>
<p><strong>侧边栏项目切换</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/github-ranking/aside.png" alt="文章详情页" title="">
                </div>
                <div class="image-caption">文章详情页</div>
            </figure>
<h2 id="技术栈"><a href="#技术栈" class="headerlink" title="技术栈"></a>技术栈</h2><ul>
<li><strong>Vue2.0</strong>：前端页面展示。</li>
<li><strong>Vue-cli</strong>：vue手脚架工具。</li>
<li><strong>axios</strong>：向后端发起请求。</li>
<li><strong>cheerio</strong>：快速、灵活、实施的jQuery核心实现，抓取页面内容很方便。</li>
<li><strong>ES6</strong>：箭头函数、promise等语法很好用。</li>
<li><strong>Webpack</strong>：vue-cli自带Webpack，添加sass相关loader，其他vue-cli已经配置好了webpack，你只需要安装依赖就可以，使用的时候只需要<style lang="scss"></style>。</li>
<li><strong>SASS(SCSS)</strong>：用SCSS做CSS预处理语言。</li>
<li><strong>flex</strong>：flex弹性布局，简单适配手机、PC端。</li>
<li><strong>CSS3</strong>：CSS3过渡动画及样式。</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>每次现爬取github等待时间较长，可以使用缓冲，加快访问速度。使用json数据文件存到服务器，等有用户访问的时候读取该文件，活着使用redis缓存工具来解决此问题。</li>
<li>异步操作很好用，但也容易出错！熟练掌握Promis等方法，提高效率。</li>
</ol>
<h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><p>关于我: <a href="http://www.qirenji.info/about">http://www.qirenji.info/about</a></p>
<p>GitHub: <a href="https://github.com/qirenji/" target="_blank" rel="external">https://github.com/qirenji/</a></p>
<p>E-mail: lyf@qirenji.com</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Vue-js打造的GitHub排行榜&quot;&gt;&lt;a href=&quot;#Vue-js打造的GitHub排行榜&quot; class=&quot;headerlink&quot; title=&quot;Vue.js打造的GitHub排行榜&quot;&gt;&lt;/a&gt;Vue.js打造的GitHub排行榜&lt;/h1&gt;&lt;h2 id=&quot;前
    
    </summary>
    
      <category term="Vue" scheme="http://www.qirenji.info/categories/Vue/"/>
    
      <category term="实战项目" scheme="http://www.qirenji.info/categories/Vue/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/"/>
    
    
      <category term="Vue" scheme="http://www.qirenji.info/tags/Vue/"/>
    
      <category term="Github排行榜" scheme="http://www.qirenji.info/tags/Github%E6%8E%92%E8%A1%8C%E6%A6%9C/"/>
    
  </entry>
  
  <entry>
    <title>Vue项目部署阿里云</title>
    <link href="http://www.qirenji.info/2017/07/19/Vue%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    <id>http://www.qirenji.info/2017/07/19/Vue项目部署阿里云/</id>
    <published>2017-07-19T14:06:29.000Z</published>
    <updated>2017-07-20T14:12:10.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Vue项目部署到阿里云服务器"><a href="#Vue项目部署到阿里云服务器" class="headerlink" title="Vue项目部署到阿里云服务器"></a>Vue项目部署到阿里云服务器</h1><p>文章适合初学vue项目想部署到服务上的。</p>
<h2 id="一、文件准备"><a href="#一、文件准备" class="headerlink" title="一、文件准备"></a>一、文件准备</h2><p>首先准备好要发布的前后台文件</p>
<h3 id="前端文件"><a href="#前端文件" class="headerlink" title="前端文件"></a>前端文件</h3><p>如是使用vue-cli搭建，在vue项目中使用如下命令生成</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">run</span><span class="bash"> build</span></div></pre></td></tr></table></figure>
<p>可以看到在本地多出来一个dist文件，此文件为压缩后文件，可直接部署到服务器</p>
<h3 id="后端文件"><a href="#后端文件" class="headerlink" title="后端文件"></a>后端文件</h3><p>可以简单编写一个，或由后端同学提供<br>这里给出一个nodejs的小例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</div><div class="line"></div><div class="line"><span class="keyword">var</span> port = process.env.PORT || <span class="number">3000</span>;</div><div class="line"><span class="keyword">var</span> app = express();</div><div class="line"></div><div class="line">app.use(express.static(<span class="string">'./dist'</span>));</div><div class="line"></div><div class="line">app.get(<span class="string">"/"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line">	res.render(<span class="string">'index.html'</span>,&#123;&#125;)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = app.listen(port, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">	<span class="keyword">if</span> (err) &#123;</div><div class="line">		<span class="built_in">console</span>.log(err);</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'Listening at http://localhost:'</span> + port + <span class="string">'\n'</span>)</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>这里后端端口号使用3000端口。</p>
<h2 id="二-关联文件"><a href="#二-关联文件" class="headerlink" title="二. 关联文件"></a>二. 关联文件</h2><ul>
<li><p>把前后端文件放入一个文件夹中，添加至github或码云等仓库</p>
</li>
<li><p>在git上添加服务器和本地的ssh。</p>
</li>
<li><p>服务器和本地都需安装pm2</p>
</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> pm2 -g</div></pre></td></tr></table></figure>
<p>这样就可以通过github把本地和服务器关联起来。</p>
<p>在服务器端的/www文件夹下，创建项目文件夹，并修改其权限，简单简单修改为 </p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> <span class="string">/www</span></div><div class="line"></div><div class="line">sudo chmod 777 cnode</div></pre></td></tr></table></figure>
<h2 id="三-修改阿里云安全组"><a href="#三-修改阿里云安全组" class="headerlink" title="三. 修改阿里云安全组"></a>三. 修改阿里云安全组</h2><p>登陆到阿里云服务器管理页面，找到安全组，添加项目中所需要的安全组的端口号。</p>
<h2 id="四-修改服务器防火墙"><a href="#四-修改服务器防火墙" class="headerlink" title="四. 修改服务器防火墙"></a>四. 修改服务器防火墙</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//修改防火墙 </span></div><div class="line">sudo vi /etc/iptables<span class="selector-class">.up</span><span class="selector-class">.rules</span></div></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//重启防火墙</span></div><div class="line">sudo iptables-restore &lt; /etc/iptables<span class="selector-class">.up</span><span class="selector-class">.rules</span></div></pre></td></tr></table></figure>
<h2 id="五-编写ecosystem文件"><a href="#五-编写ecosystem文件" class="headerlink" title="五. 编写ecosystem文件"></a>五. 编写ecosystem文件</h2><p>本地编写ecosystem.json文件。如下</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"apps"</span>: [</div><div class="line">    &#123;</div><div class="line">      <span class="attr">"name"</span>: <span class="string">"cnode"</span>,</div><div class="line">      <span class="attr">"script"</span>: <span class="string">"server.js"</span>,</div><div class="line">      <span class="attr">"env"</span>: &#123;</div><div class="line">        <span class="attr">"COMMON_VARIABLE"</span>: <span class="string">"true"</span></div><div class="line">      &#125;,</div><div class="line">      <span class="attr">"env_production"</span>: &#123;</div><div class="line">        <span class="attr">"NODE_ENV"</span>: <span class="string">"production"</span></div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  ],</div><div class="line">  <span class="attr">"deploy"</span>: &#123;</div><div class="line">    <span class="attr">"production"</span>: &#123;</div><div class="line">      <span class="attr">"user"</span>: <span class="string">"服务器用户名"</span>,</div><div class="line">      <span class="attr">"host"</span>: [<span class="string">"你的服务器ip"</span>],</div><div class="line">      <span class="attr">"port"</span>: <span class="string">"服务器端口号"</span>,</div><div class="line">      <span class="attr">"ref"</span>: <span class="string">"origin/master"</span>,</div><div class="line">      <span class="attr">"repo"</span>: <span class="string">"gtihub或码云的对应项目ssh地址"</span>,</div><div class="line">      <span class="attr">"path"</span>: <span class="string">"/www/cnode/production"</span>,</div><div class="line">      <span class="attr">"ssh_options"</span>: <span class="string">"StrictHostKeyChecking=no"</span>,</div><div class="line">      <span class="attr">"post-deploy"</span>: <span class="string">"npm install --registry=https://registry.npm.taobao.org &amp;&amp; pm2 startOrRestart ecosystem.json --env production"</span>,</div><div class="line">      <span class="attr">"env"</span>: &#123;</div><div class="line">        <span class="attr">"NODE_ENV"</span>: <span class="string">"production"</span></div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然后本地执行</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pm2 deploy ecosystem<span class="selector-class">.json</span> production resetup</div></pre></td></tr></table></figure>
<p>看到Success说明部署成功。</p>
<p>以后每次服务器更新只需提交到github执行上述代码即可</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Vue项目部署到阿里云服务器&quot;&gt;&lt;a href=&quot;#Vue项目部署到阿里云服务器&quot; class=&quot;headerlink&quot; title=&quot;Vue项目部署到阿里云服务器&quot;&gt;&lt;/a&gt;Vue项目部署到阿里云服务器&lt;/h1&gt;&lt;p&gt;文章适合初学vue项目想部署到服务上的。&lt;/
    
    </summary>
    
      <category term="建站" scheme="http://www.qirenji.info/categories/%E5%BB%BA%E7%AB%99/"/>
    
    
      <category term="Vue" scheme="http://www.qirenji.info/tags/Vue/"/>
    
      <category term="项目部署" scheme="http://www.qirenji.info/tags/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>hexo搭建github个人博客</title>
    <link href="http://www.qirenji.info/2017/07/18/hexo%E6%90%AD%E5%BB%BAgithub%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://www.qirenji.info/2017/07/18/hexo搭建github个人博客/</id>
    <published>2017-07-18T15:41:11.000Z</published>
    <updated>2017-07-19T14:33:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="用Hexo-3-搭建github-blog"><a href="#用Hexo-3-搭建github-blog" class="headerlink" title="用Hexo 3 搭建github blog"></a>用Hexo 3 搭建github blog</h1><p>本文使用的是Mac进行演示，如过是windows系统方式基本相同，单具体安装步骤请自行百度。</p>
<h2 id="一-注册github账号"><a href="#一-注册github账号" class="headerlink" title="一. 注册github账号"></a>一. 注册github账号</h2><p>点击gitbub<a href="http://github.com/" target="_blank" rel="external">官方网站</a>进行注册</p>
<h3 id="创建仓库"><a href="#创建仓库" class="headerlink" title="创建仓库"></a>创建仓库</h3><p>注册完成后点击github首页上的➕New repository创建仓库</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/github-create.png" alt="image" title="">
                </div>
                <div class="image-caption">image</div>
            </figure>
<p>创建的Repository name有固定的格式<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">你的github昵称<span class="selector-class">.github</span><span class="selector-class">.io</span></div></pre></td></tr></table></figure></p>
<p>点击Creat repository即可创建仓库</p>
<h3 id="生成添加秘钥"><a href="#生成添加秘钥" class="headerlink" title="生成添加秘钥"></a>生成添加秘钥</h3><p>打开终端输入：</p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -<span class="built_in">t</span> rsa -C <span class="string">"Github的注册邮箱地址"</span></div></pre></td></tr></table></figure>
<p>一路Enter过来就好，待秘钥生成完毕，会得到两个文件id_rsa和id_rsa.pub</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat ~<span class="regexp">/.ssh/i</span>d_rsa.pub</div></pre></td></tr></table></figure>
<p>查看公钥并复制其内容。</p>
<p><a href="http://github.com/settings/keys" target="_blank" rel="external">http://github.com/settings/ssh</a></p>
<p>New SSH key<br>输入一个Title把刚才查看到的公钥输入到Key上，生成SSH key。</p>
<h2 id="二-node-js-和git安装"><a href="#二-node-js-和git安装" class="headerlink" title="二.node.js 和git安装"></a>二.node.js 和git安装</h2><p>进入<a href="http://nodejs.cn/download//" target="_blank" rel="external">node.js官网</a>，下载并安装即可，推荐安装新版。</p>
<hr>
<p>git安装可用过homebrew安装，首先安装homebrew</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/<span class="keyword">install</span>/<span class="keyword">master</span>/<span class="keyword">install</span>)<span class="string">"</span></div></pre></td></tr></table></figure>
<p>然后安装git</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">brew </span><span class="keyword">install </span>git</div></pre></td></tr></table></figure>
<h2 id="三-安装hexo"><a href="#三-安装hexo" class="headerlink" title="三.安装hexo"></a>三.安装hexo</h2><p>强调一下，这一步使我们搭建博客的核心，是重中之重。</p>
<h3 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> npm install -g hexo-cli</span></div></pre></td></tr></table></figure>
<p>安装好之后，终端输入</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> hexo</span></div></pre></td></tr></table></figure>
<p>若出现下图，说明hexo安装成功</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://upload-images.jianshu.io/upload_images/291600-34e4d1af45d6f267.png?imageMogr2/auto-orient/strip%7CimageView2/2" alt="image" title="">
                </div>
                <div class="image-caption">image</div>
            </figure>
<h3 id="初始化博客"><a href="#初始化博客" class="headerlink" title="初始化博客"></a>初始化博客</h3><p>着到你创建博客的目录，创建博客文件夹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// 创建博客文件夹，并初始化博客</div><div class="line"><span class="meta">$</span><span class="bash"> hexo init &lt;folder&gt;</span></div><div class="line">//进入博客文件夹</div><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> &lt;folder&gt;</span></div><div class="line">//安装所有的依赖包</div><div class="line"><span class="meta">$</span><span class="bash"> npm install</span></div></pre></td></tr></table></figure>
<h2 id="四-修改博客主题和配置"><a href="#四-修改博客主题和配置" class="headerlink" title="四.修改博客主题和配置"></a>四.修改博客主题和配置</h2><ul>
<li>先下载<a href="http://hexo.in/themes/" target="_blank" rel="external">主题</a>到themes文件夹中</li>
<li>修改_config.yml文件中themes项为自己的主题名</li>
<li>修改_config.yml文件中的deploy项如下</li>
</ul>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">deploy</span>:</div><div class="line">  <span class="attribute">type</span>: git</div><div class="line">  <span class="attribute">repo</span>: <span class="attribute">https</span>:<span class="comment">//github.com/你的昵称/你的昵称.github.io.git</span></div><div class="line">  <span class="attribute">branch</span>: master</div></pre></td></tr></table></figure>
<h2 id="五-新建文章并发布"><a href="#五-新建文章并发布" class="headerlink" title="五.新建文章并发布"></a>五.新建文章并发布</h2><p>在博客根文件夹下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> hexo n <span class="string">"文章名称"</span></span></div></pre></td></tr></table></figure>
<p>可以看到在source/_post/文件夹看到新建的.md文件<br>可以在其结尾处添加一些内容，方便我们测试。<br>输入<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> hexo g</span></div></pre></td></tr></table></figure></p>
<p>生成我们要发布的文件，在发布之前我们可以通过</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> hexo s</span></div></pre></td></tr></table></figure>
<p>然后打开浏览器输入<a href="http://localhost:4000/" target="_blank" rel="external">localhost:4000</a>,查看文章。<br>现在只是在本地跑起来来，还需要把程序托管到github上。</p>
<p>首先来到 <a href="https://github.com/你的昵称/你的昵称.github.io/settings" target="_blank" rel="external">https://github.com/你的昵称/你的昵称.github.io/settings</a> 进行github pages页进行设置，选择source为master分支，点击save即可</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/github-pages.png" alt="image" title="">
                </div>
                <div class="image-caption">image</div>
            </figure>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//安装hexo git插件</span></div><div class="line"><span class="symbol">$</span> npm install hexo-deployer-git --save</div><div class="line"><span class="comment">//部署到github</span></div><div class="line"><span class="symbol">$</span> hexo g</div></pre></td></tr></table></figure>
<p>这样就可通过 你的昵称.github.io 来访问我们的博客了</p>
<h2 id="六-关联域名"><a href="#六-关联域名" class="headerlink" title="六.关联域名"></a>六.关联域名</h2><p>首先去万网，godaddy等域名系统来购买一个域名。<br>这里我买的是godaddy的域名。购买完成后进入到 管理DNS 关联github</p>
<p> <img src="/img/hexo-dns.png" alt="image"></p>
<p>然后再去github pages页设置Custom domain选项为你买的域名。<br>关联成功后等待几分钟，就可以通过域名访问你的hexo博客来。</p>
<h2 id="七-其他"><a href="#七-其他" class="headerlink" title="七.其他"></a>七.其他</h2><figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">hexo常用命令</div><div class="line">hexo n <span class="string">"我的博客"</span>==hexo new <span class="string">"我的博客"</span><span class="comment">#新建文章</span></div><div class="line">hexo <span class="attr">p==hexo</span> publish</div><div class="line">hexo <span class="attr">g==hexo</span> generate<span class="comment">#生成</span></div><div class="line">hexo <span class="attr">s==hexo</span> server<span class="comment">#启动服务预览</span></div><div class="line">hexo <span class="attr">d==hexo</span> deploy<span class="comment">#部署</span></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;用Hexo-3-搭建github-blog&quot;&gt;&lt;a href=&quot;#用Hexo-3-搭建github-blog&quot; class=&quot;headerlink&quot; title=&quot;用Hexo 3 搭建github blog&quot;&gt;&lt;/a&gt;用Hexo 3 搭建github blog&lt;/
    
    </summary>
    
      <category term="建站" scheme="http://www.qirenji.info/categories/%E5%BB%BA%E7%AB%99/"/>
    
    
      <category term="hexo" scheme="http://www.qirenji.info/tags/hexo/"/>
    
      <category term="个人博客" scheme="http://www.qirenji.info/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
</feed>
